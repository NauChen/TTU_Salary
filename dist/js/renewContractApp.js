var dataset_renewContractApp=[{id:1,deadline:"2024-07-01",wantStartDate:"2024-07-02",createDate:"2024-06-16",company:"超級棒股份有限公司",uniformNum:"12345678",companyEmail:"contact@supercompany.com",contactPerson:"王大明",jobTitle:"財務經理",companyPhone:"02-86712345",ext:"1234",type:"汽車位",adminNote:"",building:"新德惠大樓",placeOrPrint:"B1-01",startDate:"2024-07-02",paymentDate:"2024-06-19",amount:"2,800",endDate:"2025-01-02",applicant:"李小華",phone:"0912-345678",idNumber:"A123456789",email:"xiaohua.li@example.com",licensePlateNum:"1234-AB",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:11,status:"待審核"},{id:2,deadline:"2024-07-05",wantStartDate:"2024-07-06",createDate:"2024-06-20",company:"最佳有限公司",uniformNum:"23456789",companyEmail:"contact@bestcompany.com",contactPerson:"陳小美",jobTitle:"業務專員",companyPhone:"0912-876543",ext:"5678",type:"機車位",adminNote:"",building:"校本部",placeOrPrint:"B2-01",startDate:"2024-07-06",paymentDate:"2024-06-23",amount:"100",endDate:"2025-01-06",applicant:"張小龍",phone:"02-87654321",idNumber:"B987654321",email:"xiaolong.zhang@example.com",licensePlateNum:"3AB-123",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:12,status:"通過"},{id:3,deadline:"2024-07-10",wantStartDate:"2024-07-11",createDate:"2024-06-25",company:"快樂企業股份有限公司",uniformNum:"34567890",companyEmail:"contact@happyenterprise.com",contactPerson:"林中華",jobTitle:"技術主管",companyPhone:"02-76543210",ext:"2345",type:"培育室",adminNote:"",building:"新德惠大樓",placeOrPrint:"101",startDate:"2024-07-11",paymentDate:"2024-06-28",amount:"45,000",endDate:"2025-07-11",applicant:"",phone:"",idNumber:"",email:"",licensePlateNum:"",squareMeters:"20.5",responsiblePerson:"張大偉",confirmPaymentItemId:13,status:"待審核"},{id:4,deadline:"2024-07-15",wantStartDate:"2024-07-16",createDate:"2024-06-30",company:"幸福股份有限公司",uniformNum:"45678901",companyEmail:"contact@happiness.com",contactPerson:"陳美麗",jobTitle:"行銷主管",companyPhone:"02-65432109",ext:"3456",type:"汽車位",adminNote:"",building:"新德惠大樓",placeOrPrint:"B3-02",startDate:"2024-07-16",paymentDate:"2024-07-03",amount:"2,900",endDate:"2025-01-16",applicant:"王小強",phone:"0913-987654",idNumber:"C567890123",email:"xiaoqiang.wang@example.com",licensePlateNum:"5678-CD",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:14,status:"不通過"},{id:5,deadline:"2024-07-20",wantStartDate:"2024-07-21",createDate:"2024-07-05",company:"優秀有限公司",uniformNum:"56789012",companyEmail:"contact@excellent.com",contactPerson:"葉小勇",jobTitle:"產品經理",companyPhone:"0914-123456",ext:"4567",type:"機車位",adminNote:"",building:"校本部",placeOrPrint:"B4-01",startDate:"2024-07-21",paymentDate:"2024-07-08",amount:"100",endDate:"2025-01-21",applicant:"趙小偉",phone:"02-12345678",idNumber:"D678901234",email:"xiaowei.zhao@example.com",licensePlateNum:"4CD-456",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:15,status:"通過"},{id:6,deadline:"2024-07-25",wantStartDate:"2024-07-26",createDate:"2024-07-10",company:"卓越股份有限公司",uniformNum:"67890123",companyEmail:"contact@outstanding.com",contactPerson:"張大志",jobTitle:"行政助理",companyPhone:"02-34567890",ext:"5678",type:"培育室",adminNote:"",building:"實驗大樓",placeOrPrint:"A4-103",startDate:"2024-07-26",paymentDate:"2024-07-13",amount:"70,000",endDate:"2025-07-26",applicant:"",phone:"",idNumber:"",email:"",licensePlateNum:"",squareMeters:"30.0",responsiblePerson:"王大豪",confirmPaymentItemId:16,status:"取消"},{id:7,deadline:"2024-07-30",wantStartDate:"2024-07-31",createDate:"2024-07-15",company:"智慧科技有限公司",uniformNum:"78901234",companyEmail:"contact@smarttech.com",contactPerson:"吳大勇",jobTitle:"研發工程師",companyPhone:"0915-234567",ext:"6789",type:"汽車位",adminNote:"",building:"校本部",placeOrPrint:"B5-03",startDate:"2024-07-31",paymentDate:"2024-07-18",amount:"3,000",endDate:"2025-01-31",applicant:"周小英",phone:"02-98765432",idNumber:"E789012345",email:"xiaoying.zhou@example.com",licensePlateNum:"8901-EF",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:17,status:"待審核"},{id:8,deadline:"2024-08-01",wantStartDate:"2024-08-02",createDate:"2024-07-17",company:"創新股份有限公司",uniformNum:"89012345",companyEmail:"contact@innovation.com",contactPerson:"鄭小美",jobTitle:"設計師",companyPhone:"02-12345679",ext:"",type:"培育室",adminNote:"",building:"尚志大樓",placeOrPrint:"202",startDate:"2024-08-02",paymentDate:"2024-07-20",amount:"60,000",endDate:"2025-08-02",applicant:"",phone:"",idNumber:"",email:"",licensePlateNum:"",squareMeters:"15.8",responsiblePerson:"林大仁",confirmPaymentItemId:18,status:"通過"},{id:9,deadline:"2024-08-05",wantStartDate:"2024-08-06",createDate:"2024-07-21",company:"科技創新有限公司",uniformNum:"90123456",companyEmail:"contact@techinnovation.com",contactPerson:"趙大強",jobTitle:"產品經理",companyPhone:"0916-345678",ext:"123",type:"機車位",adminNote:"",building:"新德惠大樓",placeOrPrint:"B6-02",startDate:"2024-08-06",paymentDate:"2024-07-24",amount:"100",endDate:"2025-02-06",applicant:"陳大明",phone:"02-23456789",idNumber:"F890123456",email:"daming.chen@example.com",licensePlateNum:"5FG-678",squareMeters:"",responsiblePerson:"",confirmPaymentItemId:19,status:"待審核"},{id:10,deadline:"2024-08-10",wantStartDate:"2024-08-11",createDate:"2024-07-26",company:"無限可能股份有限公司",uniformNum:"01234567",companyEmail:"contact@infinite.com",contactPerson:"曾大豪",jobTitle:"專案經理",jobTitle:"實習秘書",companyPhone:"02-56789012",ext:"",type:"培育室",adminNote:"",building:"綜合大樓",placeOrPrint:"818",startDate:"2024-08-11",paymentDate:"2024-07-29",amount:"80,000",endDate:"2025-08-11",applicant:"",applicant:"申傾美",phone:"02-26710000",idNumber:"",email:"",licensePlateNum:"",squareMeters:"28.9",responsiblePerson:"李大海",confirmPaymentItemId:20,status:"待審核",businessCompliance:"否。有再增加新項目。",violation:"否。",academicCollaboration:"是。產學合作名稱AA。10人。",usageCompliance:"是。",feeCompliance:"是。",participation:"是。",counseling:"是。",badgeReturn:"是。",surveyForm:"是。",cooperation:"是。",extendYears:"2",cumulativeYears:"3",firstYearRevenue:"2,300",currentRevenue:"3,300",breakEven:"已達損益平衡",firstYearEmployeeCount:"100",currentEmployeeCount:"120",extensionPeriod:"2025-12-31",extensionReason:"",otherAdvantages:""}];$(function(){$("#renewContractAppList").DataTable({...commonSettingsTable,data:dataset_renewContractApp,columns:[{data:"createDate",title:"申請日期"},{data:"type",title:"續約類型"},{data:"company",title:"申請人公司"},{data:"building",title:"大樓"},{data:"placeOrPrint",title:"號碼"},{data:"deadline",title:"原合約<br class='d-none d-lg-block'>到期日"},{data:"paymentDate",title:"新合約<br class='d-none d-lg-block'>付款日"},{data:"status",title:"審核進度"},{data:"id",title:"檢閱",render:function(e,t,a){let n="",p="";return p="通過"==a.status||"不通過"==a.status?"outline-primary":"info",n="汽車位"===a.type||"機車位"===a.type?"renewContractParkingSpaceModel":"renewContractRoomModel",'<button type="button" class="btn btn-'+p+' rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#'+n+'" data-id="'+e+'"><i class="fa-solid fa-paperclip"></i></button>'},className:"text-lg-center text-nowrap"}],order:[[0,"desc"],[1,"asc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[1],responsivePriority:2},{targets:[4],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8]},{className:"text-lg-center",targets:[0,1,5,6]},{className:"text-nowrap",targets:[0,1,3,4,5,6]}],createdRow:function(t,e,a){$("td:eq(8)",t).css("min-width","70px"),[0,5,6].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em").css("min-width","110px")})}}),$("#renewContractParkingSpaceModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let t=String(e.data("id"));console.log("thisId:",t),$("#renewPS_updateBtn").off("click");var a,e=dataset_renewContractApp.find(e=>e.id==t);e?(a="",$("#psApp_companyName").text(e.company),$("#psApp_uniformNum").text(e.uniformNum),$("#psApp_createDate").text(e.createDate),$("#psApp_name").text(e.applicant),$("#psApp_phoneNum").text(e.phone),$("#psApp_ext").text(e.ext),$("#psApp_idNumber").text(e.idNumber),$("#psApp_email").text(e.email),$("#psApp_jobTitle").text(e.jobTitle),"汽車位"==e.type?a="汽車":"機車位"==e.type&&(a="機車"),$("#psApp_carType").text(a),$("#psApp_licensePlateNum").text(e.licensePlateNum),$("#psApp_wantStartDate").text(e.wantStartDate),$("#paymentDate").text(e.paymentDate),$("#psApp_building").text(e.building),$("#psApp_parkingSpaceNum").text(e.placeOrPrint),$("#psApp_startDate").text(e.startDate),$("#psApp_adminNote").text(e.adminNote),$("#psApp_status").val(e.status),CustomInputHandlers.destroy(),$("#psApp_jobTitle, #psApp_adminNote").removeClass("changeInput_items"),$("#psApp_ext").removeClass("changeUniformNum_items"),$("#psApp_phoneNum").removeClass("changePhone_items"),$("#psApp_email").removeClass("changeEmail_items"),$("#psApp_name, #psApp_jobTitle, #psApp_adminNote, #psApp_ext, #psApp_phoneNum, #psApp_email, #psApp_idNumber, #psApp_carType, #psApp_licensePlateNum, #psApp_wantStartDate").addClass("readOnly"),$("#psApp_downloadFilesBox").hide(),$("#psApp_supplementaryFilesBox").hide()):console.error("parkingSpaceData data not found for id:",t),("通過"===e.status||"不通過"===e.status?($("#psApp_status").hide(),$("#psApp_statusText").show().text(e.status),$("#renewPS_updateBtn")):($("#psApp_jobTitle, #psApp_adminNote").addClass("changeInput_items"),$("#psApp_ext").addClass("changeUniformNum_items"),$("#psApp_phoneNum").addClass("changePhone_items"),$("#psApp_email").addClass("changeEmail_items"),$("#psApp_jobTitle, #psApp_adminNote, #psApp_ext, #psApp_phoneNum, #psApp_email").removeClass("readOnly"),CustomInputHandlers.init(),$("#renewPS_updateBtn").show(),$("#psApp_status").show(),$("#psApp_statusText"))).hide(),$("#renewPS_updateBtn").on("click",function(){(updatedData={}).id=t,updatedData.phoneNum=$("#psApp_phoneNum").text(),updatedData.ext=$("#psApp_ext").text(),updatedData.email=$("#psApp_email").text(),updatedData.jobTitle=$("#psApp_jobTitle").text(),updatedData.adminNote=$("#psApp_adminNote").text(),updatedData.status=$("#psApp_statusText").val(),console.log(updatedData)})}),$("#renewContractRoomModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let t=String(e.data("id"));console.log("thisId:",t),$("#renewCR_updateBtn").off("click");e=dataset_renewContractApp.find(e=>e.id==t);e&&($("#renewCR_building").text(e.building),$("#renewCR_room").text(e.placeOrPrint),$("#renewCR_squareMeters").text(e.squareMeters),$("#renewCR_startDate").text(e.startDate),$("#renewCR_endDate").text(e.endDate),$("#renewCR_rate").text(e.amount),$("#renewCR_companyName").text(e.company),$("#renewCR_uniformNum").text(e.uniformNum),$("#renewCR_responsiblePerson").text(e.responsiblePerson),$("#renewCR_companyEmail").text(e.companyEmail),$("#renewCR_companyPhone").text(e.companyPhone),$("#renewCR_contactPerson").text(e.contactPerson),$("#renewCR_adminNote").text(e.adminNote),$("#renewCR_status").val(e.status),$("#renewCR_status").val(e.status)),"通過"==e.status||"不通過"==e.status?($("#renewCR_supplementaryFilesBox").hide(),$("#renewCR_status").hide(),$("#renewCR_statusText").show().text(e.status),$("#renewCR_updateBtn").hide()):($("#renewCR_supplementaryFilesBox").show(),$("#renewCR_status").show().val(e.status),$("#renewCR_statusText").hide(),$("#renewCR_updateBtn").show())})});