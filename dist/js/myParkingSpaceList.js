var dataset_myParkingSpaceHistory=[{paymentDate:"2024-06-28",carType:"汽車",parkingSpaceNum:"B4-30",name:"陳凱富",licensePlateNum:"0869-RE",endDate:"2024-07-18",remark:"-",id:"1",jobTitle:"經理",ext:"123",phone:"02-86710869",email:"chenkaifu@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-17",carType:"機車",parkingSpaceNum:"B5-1",name:"陳昭嫺",licensePlateNum:"X-8470",endDate:"2024-06-08",remark:"-",id:"2",jobTitle:"工程師",ext:"456",phone:"0912-345678",email:"chenzhaoxian@example.com",building:"新德惠大樓"},{paymentDate:"2024-04-18",carType:"汽車",parkingSpaceNum:"B6-12",name:"林雅惠",licensePlateNum:"4823-JF",endDate:"2024-05-18",remark:"已到期且未續約。",id:"3",jobTitle:"分析師",ext:"789",phone:"02-86714823",email:"linyahuei@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-15",carType:"機車",parkingSpaceNum:"B7-5",name:"張文成",licensePlateNum:"2-9685",endDate:"2024-06-17",remark:"-",id:"4",jobTitle:"主任",ext:"112",phone:"0912-346789",email:"zhangwencheng@example.com",building:"新德惠大樓"},{paymentDate:"2024-04-30",carType:"汽車",parkingSpaceNum:"B8-21",name:"許美玲",licensePlateNum:"7219-LK",endDate:"2024-05-30",remark:"-",id:"5",jobTitle:"助理",ext:"-",phone:"02-86717219",email:"hsiumeiling@example.com",building:"新德惠大樓"},{paymentDate:"2024-06-02",carType:"機車",parkingSpaceNum:"B9-8",name:"黃佩樺",licensePlateNum:"7-Y245",endDate:"2024-07-02",remark:"快到期，請盡速續約。",id:"6",jobTitle:"專員",ext:"321",phone:"0912-347890",email:"huangpeihua@example.com",building:"新德惠大樓"},{paymentDate:"2024-06-05",carType:"汽車",parkingSpaceNum:"B10-18",name:"劉建宏",licensePlateNum:"5390-ZP",endDate:"2024-07-05",remark:"快到期，請盡速續約。",id:"7",jobTitle:"經理",ext:"654",phone:"02-86715390",email:"liujianhong@example.com",building:"新德惠大樓"},{paymentDate:"2024-06-01",carType:"機車",parkingSpaceNum:"B11-3",name:"吳明憲",licensePlateNum:"9-5012",endDate:"2024-07-01",remark:"快到期，請盡速續約。",id:"8",jobTitle:"主任",ext:"987",phone:"0912-348901",email:"wumingxian@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-26",carType:"汽車",parkingSpaceNum:"B12-9",name:"蔡淑芬",licensePlateNum:"4825-NX",endDate:"2024-06-23",remark:"-",id:"9",jobTitle:"分析師",ext:"234",phone:"02-86714825",email:"caishufen@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-15",carType:"機車",parkingSpaceNum:"B13-6",name:"陳芳儀",licensePlateNum:"6-X084",endDate:"2024-06-26",remark:"-",id:"10",jobTitle:"工程師",ext:"567",phone:"0912-349012",email:"chenfangyi@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-09",carType:"汽車",parkingSpaceNum:"B14-28",name:"葉文祥",licensePlateNum:"1265-DK",endDate:"2024-06-26",remark:"-",id:"11",jobTitle:"助理",ext:"890",phone:"02-86711265",email:"yewenxiang@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-18",carType:"機車",parkingSpaceNum:"B15-10",name:"劉惠珍",licensePlateNum:"3-L769",endDate:"2024-06-18",remark:"-",id:"12",jobTitle:"專員",ext:"123",phone:"0912-341234",email:"liuhuizhen@example.com",building:"新德惠大樓"},{paymentDate:"2025-01-25",carType:"汽車",parkingSpaceNum:"B16-15",name:"林秋美",licensePlateNum:"9274-BH",endDate:"2025-02-25",remark:"-",id:"13",jobTitle:"經理",ext:"456",phone:"02-86719274",email:"linqiumei@example.com",building:"新德惠大樓"},{paymentDate:"2025-02-14",carType:"機車",parkingSpaceNum:"B17-2",name:"張雅婷",licensePlateNum:"7-V821",endDate:"2025-03-14",remark:"-",id:"14",jobTitle:"主任",ext:"789",phone:"0912-342345",email:"zhangyating@example.com",building:"新德惠大樓"},{paymentDate:"2025-03-08",carType:"汽車",parkingSpaceNum:"B18-25",name:"郭大偉",licensePlateNum:"6841-MG",endDate:"2025-04-08",remark:"-",id:"15",jobTitle:"工程師",ext:"112",phone:"02-86716841",email:"guodawei@example.com",building:"新德惠大樓"},{paymentDate:"2025-04-22",carType:"機車",parkingSpaceNum:"B19-4",name:"陳志明",licensePlateNum:"1-Q525",endDate:"2025-05-22",remark:"-",id:"16",jobTitle:"助理",ext:"345",phone:"0912-343456",email:"chenzhiming@example.com",building:"新德惠大樓"},{paymentDate:"2024-05-10",carType:"汽車",parkingSpaceNum:"B20-13",name:"王美玲",licensePlateNum:"9406-CP",endDate:"2024-06-21",remark:"-",id:"17",jobTitle:"專員",ext:"678",phone:"02-86719406",email:"wangmeiling@example.com",building:"新德惠大樓"},{paymentDate:"2025-06-29",carType:"機車",parkingSpaceNum:"7",name:"林志豪",licensePlateNum:"8-N012",endDate:"2025-07-29",remark:"-",id:"18",jobTitle:"經理",ext:"901",phone:"0912-344567",email:"linzhihao@example.com",building:"校本部"},{paymentDate:"2025-07-15",carType:"汽車",parkingSpaceNum:"20",name:"楊惠君",licensePlateNum:"1782-QR",endDate:"2025-08-15",remark:"-",id:"19",jobTitle:"主任",ext:"234",phone:"02-86711782",email:"yanghuijun@example.com",building:"校本部"},{paymentDate:"2024-05-09",carType:"機車",parkingSpaceNum:"12",name:"陳建宏",licensePlateNum:"5-H953",endDate:"2024-06-09",remark:"-",id:"20",jobTitle:"助理",ext:"567",phone:"0912-345678",email:"chenjianhong@example.com",building:"校本部"}];$(function(){let t=new Date;dataset_myParkingSpaceHistory.forEach(e=>{var a=new Date(e.endDate).getTime()-t.getTime(),a=Math.ceil(a/864e5);e.diffDays=a<0?null:-1*a}),$("#myParkingSpaceList").DataTable({...commonSettingsProvision,layout:{topStart:function(){var e=document.createElement("div");return e.innerHTML='<h6 class="fw-bold"><i class="fa-solid fa-circle-exclamation mx-1"></i>若要續用，請於車位到期的7~15天前提出申請。</h6>',e}},data:dataset_myParkingSpaceHistory,columns:[{data:"paymentDate",title:"付款日"},{data:"carType",title:"車位類型"},{data:"building",title:"所在位置"},{data:"parkingSpaceNum",title:"車位號碼"},{data:"name",title:"登記使用人"},{data:"licensePlateNum",title:"車牌號碼"},{data:"endDate",title:"到期日"},{data:"remark",title:"備註"},{data:"id",title:"續約",render:function(e,a,t){t=t.diffDays;return null===t?'<button type="button" class="btn btn-light rounded-circle btn-sm" title="續約時間已過"><i class="fa-solid fa-hourglass-end"></i></button>':-15<=t?'<a class="btn btn-outline-primary rounded-circle btn-sm oneWord renew-btn" href="./parkingSpaceRenew.html?id='+e+'" title="立即續約" data-id='+e+'><i class="fa-solid fa-repeat"></i></a>':'<button type="button" class="btn btn-light rounded-circle btn-sm" title="續約時間未到"><i class="fa-solid fa-hourglass-half"></i></button>'}},{data:"diffDays",visible:!1}],order:[[9,"desc"],[6,"asc"]],columnDefs:[{targets:[1],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8,9]},{className:"text-center",targets:[0,1,2,3,4,5,6,8]}],createdRow:function(a,e,t){[0,6].forEach(function(e){$("td:eq("+e+")",a).css("font-size",".95em").css("min-width","130px")}),[0,1,2,3,5,6].forEach(function(e){$("td:eq("+e+")",a).addClass("text-nowrap")}),$("td:eq(7)",a).css("min-width","200px").addClass("text-start"),$("td:eq(8)",a).css("max-width","70px")}})}),$(function(){$(document).on("click",".renew-btn",function(e){e.preventDefault();e=$(this).data("id");let a="./parkingSpaceRenew.html?id="+e;swalConfirmNoToastSandId("登記使用人是否變更呢?","是","否",function(){window.location.href=a},"已將收款帳戶資訊發至貴司的主要聯絡信箱。<br><br>前往「進度查詢」：<br>可上傳匯款憑證，或是再次發送大同大學帳戶資訊。","top",e)})});