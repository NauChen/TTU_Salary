var dataset_myIDcardHistory=[{id:"1",createDate:"2023-08-30",place:"新德惠-101",name:"孫一美",jobTitle:"工讀生",library:"未申請",print:"1",startDate:"2023-09-10",endDate:"2023-10-09",status:"已選停用，請至研發處歸還。",idCardNum:"ABC101",phone:"0912-345678",email:"abc#gmail.com",emergContact:"孫大美",ECPhone:"0933-456789"},{id:"2",createDate:"2023-08-31",place:"綜合-202",name:"孫大美",jobTitle:"專員",library:"已開放",print:"-",startDate:"2023-09-10",endDate:"2023-10-09",status:"未到期。",idCardNum:"ABC102",phone:"0933-456789",email:"abcd#gmail.com",emergContact:"孫一美",ECPhone:"0912-345678"},{id:"3",createDate:"2023-09-10",place:"產學-202",name:"孫大帥",jobTitle:"專員",library:"已開放",print:"-",startDate:"2023-10-11",endDate:"2023-11-30",status:"-",idCardNum:"ABC103",phone:"0912-345678",email:"abc#gmail.com",emergContact:"孫大美",ECPhone:"0933-456789"},{id:"4",createDate:"2023-09-10",place:"北設工-202",name:"孫二帥",jobTitle:"專員",library:"已開放",print:"3",startDate:"2023-10-11",endDate:"2023-11-30",status:"-",idCardNum:"ABC104",phone:"0912-345678",email:"abc#gmail.com",emergContact:"孫大美",ECPhone:"0933-456789"}];$(function(){populateSelect("idCardCultRoom",selectOptionLocation),$("#typeFirst").prop({checked:!1,disabled:!0}),$("#typeReissue").prop("checked",!0);var a=new URLSearchParams(window.location.search);let e=String(a.get("id"));var d,t,a=session_userData;e?(console.log("ID Card ID:",e),(d=dataset_myIDcardHistory.find(a=>a.id===e))?($("#idCardName").val(d.name),$("#idCardJobTitle").val(d.jobTitle),$("#idCardPhone").val(d.phone),$("#idCardEmail").val(d.email),$("#idCard_Period1").val(d.startDate),t=splitHyphen(d.place),t=changeCultivationRoomToBuilding(t.part1)+"-"+t.part2,$("#idCardCultRoom").val(t),$("#idCardEmergContact").val(d.emergContact),$("#idCardECPhone").val(d.ECPhone),("已開放"==d.library?($("#dontWantReadLibrary").prop("checked",!1),$("#wantReadLibrary")):($("#wantReadLibrary").prop("checked",!1),$("#dontWantReadLibrary"))).prop("checked",!0)):console.error("My Id Card Data not found for id:",e)):console.error("ID Card ID not found in URL"),setMinDateToToday("idCard_Period1"),enforceStartDateFirst("idCard_Period1","idCard_Period2"),$("#idCardCompany_td").text(a.company),$("#idCardResponsiblePerson_td").text(a.responsiblePerson),$("#idCardCompanyPhone_td").text(a.companyPhone),syncInputValue("idCardName","idCardName_td"),syncInputValue("idCardJobTitle","idCardJobTitle_td"),syncInputValue("idCardPhone","idCardPhone_td"),syncInputValue("idCardEmail","idCardEmail_td"),syncInputDate("idCard_Period1","idCard_Period1_Y","idCard_Period1_m","idCard_Period1_D"),syncInputDate("idCard_Period2","idCard_Period2_Y","idCard_Period2_m","idCard_Period2_D"),syncSelectValue("idCardCultRoom","idCardCultRoom_Building","idCardCultRoom_Room"),syncInputValue("idCardEmergContact","ICE_Person"),syncInputValue("idCardECPhone","ICE_Phone"),syncInputRadio("wantReadLibrary","dontWantReadLibrary","wantYes","dontWantYes"),$('input[name="libraryRead"]').on("change",function(){syncInputRadio("wantReadLibrary","dontWantReadLibrary","wantYes","dontWantYes")}),$(".thisRequired").on("input change",function(){checkThisRequiredElements.call(this)}),$("#confirm_idCardApp").click(function(a){checkRequiredElements()?(checkDangerElements()?$("#idCardApp_pdf").modal("show"):swalToastWarning("請填上正確資料唷！","top"),$("#idCardApp_pdf").modal("show")):swalToastWarning("請將所有欄位補上唷！","top")}),$("#printAndSubmit").click(function(a){$("#formIdCardReissue").submit(),console.log("表單資料已送出")})});