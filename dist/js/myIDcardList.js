var dataset_myIDcardHistory=[{id:"1",createDate:"2023-08-30",place:"新德惠大樓-101",name:"孫一美",jobTitle:"工讀生",library:"未申請",print:"1",remark:"已選停用，請至研發處歸還。"},{id:"2",createDate:"2023-08-31",place:"綜合工廠大樓-202",name:"孫大美",jobTitle:"專員",library:"已開放",print:"-",remark:""},{id:"3",createDate:"2023-09-10",place:"挺生大樓-202",name:"孫大帥",jobTitle:"專員",library:"已開放",print:"-",remark:"X"},{id:"4",createDate:"2023-09-10",place:"實驗大樓-202",name:"孫二帥",jobTitle:"專員",library:"已開放",print:"3",remark:""},{id:"5",createDate:"2023-09-10",place:"尚志大樓-202",name:"孫二帥",jobTitle:"專員",library:"已開放",print:"3",remark:""},{id:"6",createDate:"2024-09-10",place:"尚志大樓-202",name:"關二爺",jobTitle:"經理",library:"申請中",print:"-",remark:"申請中"},{id:"7",createDate:"2024-09-12",place:"尚志大樓-202",name:"張三爺",jobTitle:"協理",library:"申請中",print:"1",remark:"申請中"}];$(function(){let e=$("#myIDcardList").DataTable({...commonSettingsProvision,layout:{topStart:function(){var e=document.createElement("div");return e.innerHTML='<h6 class="fw-bold"><i class="fa-solid fa-circle-exclamation mx-1"></i>識別證停用後，需歸還至研發處。</h6>',e}},data:dataset_myIDcardHistory,columns:[{data:"id",title:'<i class="fa-regular fa-square-check"></i>',render:function(e,a,r,t){return"X"==r.remark||"已選停用，請至研發處歸還。"==r.remark?"":'<input type="checkbox" class="form-check-input border-primary idCard-checkbox" value='+e+">"}},{data:"createDate",title:"申請日期"},{data:"place",title:"培育室位置"},{data:"name",title:"姓名"},{data:"jobTitle",title:"職稱"},{data:"library",title:"閱覽<br class='d-none d-lg-block'>圖書館"},{data:"print",title:"補發<br class='d-none d-lg-block'>次數"},{data:"remark",title:"備註"},{data:"id",title:"申請<br class='d-none d-lg-block'>補發",render:function(e,a,r){return"申請中"!=r.remark&&"X"!=r.remark&&"已選停用，請至研發處歸還。"!=r.remark?'<a class="btn btn-outline-primary rounded-circle noOutline" href="./idCardReissue.html?id='+e+'"><i class="fa-regular fa-face-sad-tear"></i></a>':""}},{data:"remark",visible:!1,render:function(e,a,r){return"已選停用，請至研發處歸還。"==e?"0":"申請中"==e?"1":"X"==e?"9":"6"}}],order:[[9,"asc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[0,8]},{className:"text-lg-center",targets:[0,1,3,4,5,6,8]},{className:"text-nowrap",targets:[0,1,3,4,5,6]}],createdRow:function(a,e,r){"X"==e.remark&&$("td",a).css("color","#999"),[1].forEach(function(e){$("td:eq("+e+")",a).css("min-width","130px")}),$("td:eq(8)",a).css("max-width","70px")}});$("#deleteTheseIdCard").click(function(){let a=[];e.rows().every(function(){var e=this.node();$(e).find(".idCard-checkbox").prop("checked")&&(e=this.data(),a.push(e.id))}),0===a.length?swalToastWarning("請先勾選欲停用的識別證。","top"):console.log(a)})});