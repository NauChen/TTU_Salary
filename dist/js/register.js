function checkTheEmail(){var e=$("#checkEmailResults"),a=$("#submitBtn");switch(e.text()){case"檢查":e.text("檢查").removeClass("invalid").removeClass("valid"),a.prop("disabled",!0);break;case"相異":e.text("檢查").removeClass("invalid").addClass("valid"),a.prop("disabled",!1);break;case"此Email已註冊過。":e.text("此Email已註冊過。").removeClass("valid").addClass("invalid"),a.prop("disabled",!0);break;default:e.text("Email格式不正確。").removeClass("valid").addClass("invalid"),a.prop("disabled",!0)}}function checkRequiredElements(){var t=!0;return $(".thisRequired").each(function(){var e="";switch($(this).prop("tagName").toLowerCase()){case"input":var a=$(this).attr("type").toLowerCase();"checkbox"===a||"radio"===a?$(this).is(":checked")||(t=!1,addDangerRequiredMessage($(this).attr("id"))):"file"===a?(0===$(this).get(0).files.length?(t=!1,addDangerRequiredFilesMessage):removeDangerMessage)($(this).attr("id")):""===(e=$(this).val().trim())?(t=!1,addDangerRequiredMessage($(this).attr("id"))):(removeDangerMessage($(this).attr("id")),$(this).hasClass("thisPhone")&&(a=$(this).attr("id"),validatePhone(e)?$("#danger_"+a).text(""):(addDangerPhoneMessage(a),t=!1)));break;case"select":case"textarea":(""===(e=$(this).val().trim())?(t=!1,addDangerRequiredMessage):removeDangerMessage)($(this).attr("id"))}}),t}function checkPhoneNumbers(){var t=!0;return $(".thisPhone").each(function(){var e=$(this).val().trim(),a=$(this).attr("id");if(""===e)return $("#danger_"+a).text(""),!0;validatePhone(e)?$("#danger_"+a).text(""):(addDangerPhoneMessage(a),t=!1)}),t}function addDangerRequiredMessage(e){$("#danger_"+e).text("此為必填欄位！")}function addDangerRequiredFilesMessage(e){$("#danger_"+e).text("此為必須上傳的檔案！")}function addDangerPhoneMessage(e){$("#danger_"+e).text("格式不正確，請依正確的格式輸入：區碼-電話號碼 或 09XX-XXXXXX")}function removeDangerMessage(e){$("#danger_"+e).text("")}function restrictToNumberHyphen(e){$(e).val($(e).val().replace(/[^\d-]/g,""))}function restrictToNum(e){var a=$(e).val().replace(/\D/g,"");a.startsWith("0")&&(a=a.replace(/^0+/,"")),$(e).val(a)}function formatNumber(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function unformatNumber(e){return e.replace(/,/g,"")}function unformatOnFocus(e){var a=$(e).val();$(e).val(unformatNumber(a))}function formatOnBlur(e){var a=$(e).val();""!==a&&$(e).val(formatNumber(a))}function restrictToUniformNum(e){var a=$(e).val().replace(/\D/g,"");8<a.length&&(a=a.slice(0,8)),$(e).val(a)}function restrictToValidChars(e){$(e).val($(e).val().replace(/[^a-zA-Z0-9._@-]/g,""))}function validatePhone(e){return/^\d{2,4}-\d{6,8}$/.test(e)}function checkThisPhone(){var e=$(this).val().trim(),a=$(this).attr("id"),a=$("#danger_"+a);""===e||validatePhone(e)?a.text(""):a.text("格式不正確，請依正確的格式輸入：區碼-電話號碼 或 09XX-XXXXXX")}function checkUpload(){var e=$(this),a=e.attr("id"),a=$("."+a).text();$("#errorBox");""===e.val().trim()&&swalToastWarning(a+" 是必需上傳的資料，請點擊檔案唷！","top")}function checkRequiredGroup(e,a){var t=!0,r=$(".registerSubmit"),a=$("."+a);$("."+e).each(function(){if(""===$(this).val().trim())return t=!1}),t?(r.prop("disabled",!1),a.prop("disabled",!1)):(r.prop("disabled",!0),a.prop("disabled",!0))}function checkDangerElements(){for(var e=$('[id^="danger_"]'),a=0;a<e.length;a++)if(""!==$(e[a]).text().trim())return!1;return!0}$(function(){var e=$("#creationDate"),a=$("#creationDateYet"),t=(new Date).toISOString().split("T")[0],r=(e.attr("max",t),$("#uniformNum")),i=(a.change(function(){a.is(":checked")?(e.val("").prop("disabled",!0),r.val("").prop("placeholder","後補").prop("disabled",!0),a.attr("asp-for","CreationDate"),e.removeAttr("asp-for"),theseRemoveClass(["thisRequired"],["creationDate","uniformNum","companyProof"]),removeDangerMessage("creationDate"),removeDangerMessage("uniformNum"),$("#companyProofBox").addClass("d-none")):(e.prop("disabled",!1),r.prop("placeholder","").prop("disabled",!1),e.attr("asp-for","CreationDate"),a.removeAttr("asp-for"),theseAddClass(["thisRequired"],["creationDate","uniformNum","companyProof"]),$("#companyProofBox").removeClass("d-none"))}),$("#companyAdd")),n=$("#locationOfCompany"),s=$("#sameAdd");function o(){""===i.val().trim()?(s.prop("checked",!1),s.prop("disabled",!0)):s.prop("disabled",!1)}i.on("input",function(){o()}),s.change(function(){s.is(":checked")&&(n.val(i.val()),$("#danger_locationOfCompany").text(""))}),n.change(function(){s.prop("checked",!1),o()})}),$(function(){checkTheEmail(),$("#companyEmail").on("blur",function(){checkTheEmail()}),$(".thisRequired").on("input change",function(){var e=$(this).attr("id");switch($(this).prop("tagName").toLowerCase()){case"input":var a=$(this).attr("type").toLowerCase();"checkbox"===a||"radio"===a?$(this).is(":checked")&&removeDangerMessage(e):""!==$(this).val().trim()&&removeDangerMessage(e);break;case"select":case"textarea":""!==$(this).val().trim()&&removeDangerMessage(e)}}),$("#submitBtn").click(function(e){e.preventDefault(),checkRequiredElements()&&(checkDangerElements()?($("#myForm").submit(),console.log("表單資料已送出")):swalToastWarning(" 請填上正確資料唷！","top"))})});