var dataset_confirmPaymentCultivationRoom=[{id:"1",roomId:"10",building:"新德惠大樓",room:"101",squareMeters:"15.4",startDate:"2024-08-01",endDate:"2025-07-31",amount:"40,000",company:"超級棒股份有限公司",uniformNum:"12345678",responsiblePerson:"王大明",companyEmail:"contact@supercompany.com",contactPerson:"張偉",companyPhone:"02-86710001",deadline1:"2024-11-01",deadline2:"2025-02-01",deadline3:"2025-05-01",deadline4:"2025-07-21",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",adminNote:""},{id:"2",roomId:"11",building:"綜合大樓",room:"104",squareMeters:"20.5",startDate:"2023-09-01",endDate:"2024-08-31",amount:"50,000",company:"大富翁科技有限公司",uniformNum:"87654321",responsiblePerson:"李四",companyEmail:"contact@bigmonopoly.com",contactPerson:"林小華",companyPhone:"0912-345678",deadline1:"2023-12-01",deadline2:"2024-03-01",deadline3:"2024-06-01",deadline4:"2024-08-21",receiptNum1:"RM000127",receiptNum2:"RM000145",receiptNum3:"RM000151",receiptNum4:"",receivedDate1:"2024-11-29",receivedDate2:"2024-02-27",receivedDate3:"2024-05-30",receivedDate4:"",adminNote:""},{id:"3",roomId:"12",building:"挺生大樓",room:"105",squareMeters:"18.7",startDate:"2024-10-01",endDate:"2025-09-30",amount:"45,000",company:"迅捷物流股份有限公司",uniformNum:"23456789",responsiblePerson:"陳小華",companyEmail:"contact@swiftlogistics.com",contactPerson:"林大明",companyPhone:"02-86710002",deadline1:"2025-04-01",deadline2:"2025-09-25",deadline3:"",deadline4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"4",roomId:"13",building:"實驗大樓",room:"106",squareMeters:"25.3",startDate:"2023-07-01",endDate:"2024-06-30",amount:"55,000",company:"綠能科技有限公司",uniformNum:"34567890",responsiblePerson:"林小強",companyEmail:"contact@greenenergy.com",contactPerson:"張雅婷",companyPhone:"02-86710003",deadline1:"2023-10-01",deadline2:"2024-01-01",deadline3:"2024-04-01",deadline4:"2024-06-20",receiptNum1:"RM000135",receiptNum2:"RM000136",receiptNum3:"RM000137",receiptNum4:"RM000138",receivedDate1:"2023-09-29",receivedDate2:"2023-12-30",receivedDate3:"2024-03-29",receivedDate4:"2024-06-18",adminNote:""},{id:"5",roomId:"14",building:"北設工大樓",room:"201",squareMeters:"30.9",startDate:"2024-08-15",endDate:"2025-08-14",amount:"70,000",company:"全球股份有限公司",uniformNum:"45678901",responsiblePerson:"張偉",companyEmail:"contact@globalinc.com",contactPerson:"王志豪",companyPhone:"0912-345679",deadline1:"2024-12-15",deadline2:"2025-04-15",deadline3:"2025-08-04",deadline4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"6",roomId:"15",building:"尚志大樓",room:"202",squareMeters:"27.8",startDate:"2023-09-15",endDate:"2024-09-14",amount:"65,000",company:"宇宙科技有限公司",uniformNum:"56789012",responsiblePerson:"劉明",companyEmail:"contact@universe.com",contactPerson:"李小明",companyPhone:"02-86710004",deadline1:"2023-12-15",deadline2:"2024-03-15",deadline3:"2024-06-15",deadline4:"2024-09-04",receiptNum1:"RM000143",receiptNum2:"RM000144",receiptNum3:"RM000145",receiptNum4:"RM000146",receivedDate1:"2023-12-13",receivedDate2:"2024-03-13",receivedDate3:"2024-06-13",receivedDate4:"",adminNote:""},{id:"7",roomId:"16",building:"新德惠大樓",room:"A4-102",squareMeters:"16.5",startDate:"",endDate:"",amount:"35,000",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",contactPerson:"",companyPhone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"8",roomId:"17",building:"綜合大樓",room:"A4-103",squareMeters:"22.3",startDate:"2023-11-01",endDate:"2024-10-31",amount:"55,000",company:"光速科技有限公司",uniformNum:"67890123",responsiblePerson:"黃家豪",companyEmail:"contact@lightspeed.com",contactPerson:"林小明",companyPhone:"0912-345670",deadline1:"2024-02-01",deadline2:"2024-05-01",deadline3:"2024-08-01",deadline4:"2024-10-21",receiptNum1:"RM000147",receiptNum2:"RM000148",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-01-30",receivedDate2:"2024-04-29",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"9",roomId:"18",building:"挺生大樓",room:"714",squareMeters:"12.9",startDate:"",endDate:"",amount:"30,000",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",contactPerson:"",companyPhone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"10",roomId:"19",building:"實驗大樓",room:"809",squareMeters:"14.0",startDate:"2023-07-15",endDate:"2024-07-14",amount:"60,000",company:"宏達電子有限公司",uniformNum:"78901234",responsiblePerson:"張雅婷",companyEmail:"contact@htcelectronics.com",contactPerson:"王志豪",companyPhone:"02-86710005",deadline1:"2023-11-15",deadline2:"2024-03-15",deadline3:"2024-07-04",deadline4:"",receiptNum1:"RM000151",receiptNum2:"RM000152",receiptNum3:"RM000153",receiptNum4:"",receivedDate1:"2023-11-13",receivedDate2:"2024-03-13",receivedDate3:"2024-07-02",receivedDate4:"",adminNote:""}],dataset_confirmPaymentAll=[{id:"1",createDate:"2024-07-15",paymentDate:"2024-07-13",adminNote:"",status:"待確認",applicationNum:"12",type:"汽車位",company:"超級棒股份有限公司",uniformNum:"12345678",paymentPurpose:"續約",placeOrPrint:"B1-15",amount:"2,500",paymentMethod:"匯款",last5AccountNo:"01234",remittanceFile:"20240713_MD23",receiptNum:"",companyEmail:"contact@supercompany.com",contactPerson:"王大明",companyPhone:"02-86710001"},{id:"2",createDate:"2024-07-16",paymentDate:"2024-07-14",adminNote:"",status:"取消",applicationNum:"15",type:"機車位",company:"大富翁科技有限公司",uniformNum:"87654321",paymentPurpose:"新申請",placeOrPrint:"",amount:"100",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"",companyEmail:"contact@bigmonopoly.com",contactPerson:"李四",companyPhone:"0912-345678"},{id:"3",createDate:"2024-07-17",paymentDate:"2024-07-15",adminNote:"",status:"待確認",applicationNum:"18",type:"識別證",company:"迅捷物流股份有限公司",uniformNum:"23456789",paymentPurpose:"補發",placeOrPrint:"N000034",amount:"300",paymentMethod:"匯款",last5AccountNo:"56789",remittanceFile:"20240715_MD45",receiptNum:"",companyEmail:"contact@swiftlogistics.com",contactPerson:"陳小華",companyPhone:"02-86710002"},{id:"4",createDate:"2024-07-18",paymentDate:"2024-07-16",adminNote:"",status:"待確認",applicationNum:"20",type:"培育室",company:"綠能科技有限公司",uniformNum:"34567890",paymentPurpose:"階段費用",placeOrPrint:"青創基地-201",amount:"45,000",paymentMethod:"匯款",last5AccountNo:"67890",remittanceFile:"20240716_MD67",receiptNum:"RM000126",companyEmail:"contact@greenenergy.com",contactPerson:"林小強",companyPhone:"02-86710003"},{id:"5",createDate:"2024-07-19",paymentDate:"2024-07-17",adminNote:"",status:"待確認",applicationNum:"22",type:"汽車位",company:"全球股份有限公司",uniformNum:"45678901",paymentPurpose:"續約",placeOrPrint:"",amount:"3,000",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000127",companyEmail:"contact@globalinc.com",contactPerson:"張偉",companyPhone:"0912-345679"},{id:"6",createDate:"2024-07-20",paymentDate:"2024-07-18",adminNote:"",status:"待確認",applicationNum:"25",type:"機車位",company:"宇宙科技有限公司",uniformNum:"56789012",paymentPurpose:"續約",placeOrPrint:"B1-07",amount:"100",paymentMethod:"匯款",last5AccountNo:"89012",remittanceFile:"20240718_MD89",receiptNum:"RM000128",companyEmail:"contact@universe.com",contactPerson:"劉明",companyPhone:"02-86710004"},{id:"7",createDate:"2024-07-21",paymentDate:"2024-07-19",adminNote:"",status:"待確認",applicationNum:"28",type:"識別證",company:"光速科技有限公司",uniformNum:"67890123",paymentPurpose:"補發",placeOrPrint:"N000056",amount:"300",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000129",companyEmail:"contact@lightspeed.com",contactPerson:"黃家豪",companyPhone:"0912-345670"},{id:"8",createDate:"2024-07-22",paymentDate:"2024-07-20",adminNote:"",status:"待確認",applicationNum:"30",type:"培育室",company:"宏達電子有限公司",uniformNum:"78901234",paymentPurpose:"階段費用",placeOrPrint:"青創基地-201",amount:"40,000",paymentMethod:"匯款",last5AccountNo:"90123",remittanceFile:"20240720_MD01",receiptNum:"RM000130",companyEmail:"contact@htcelectronics.com",contactPerson:"張雅婷",companyPhone:"02-86710005"},{id:"9",createDate:"2024-07-23",paymentDate:"2024-07-21",adminNote:"",status:"待確認",applicationNum:"32",type:"汽車位",company:"智能機械有限公司",uniformNum:"89012345",paymentPurpose:"續約",placeOrPrint:"B3-10",amount:"2,500",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000131",companyEmail:"contact@smartmachinery.com",contactPerson:"王志豪",companyPhone:"0912-345671"},{id:"10",createDate:"2024-07-24",paymentDate:"2024-07-22",adminNote:"",status:"完成",applicationNum:"35",type:"機車位",company:"聯合工業股份有限公司",uniformNum:"90123456",paymentPurpose:"新申請",placeOrPrint:"",amount:"100",paymentMethod:"匯款",last5AccountNo:"23456",remittanceFile:"20240722_MD23",receiptDate:"2024-07-31",receiptAmount:"100",receiptItems:"場地維護費",receiptNum:"RM000132",companyEmail:"contact@unitedindustries.com",contactPerson:"許文",companyPhone:"02-86710006"}],dataset_confirmPaymentParkingSpace=[{id:"1",psId:"11",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B1-01",startDate:"2024-07-01",endDate:"2025-06-30",amount:"3,000",licensePlateNum:"1234-AB",company:"偉大企業有限公司",uniformNum:"12345678",applicant:"張偉",email:"wei@awesome.com",phone:"02-86711234",deadline1:"2024-10-01",deadline2:"2025-01-01",deadline3:"2025-04-01",deadline4:"2025-06-20",receiptNum1:"RM123456",receiptNum2:"RM234567",receiptNum3:"RM345678",receiptNum4:"RM456789",receivedDate1:"2024-09-28",receivedDate2:"2024-12-28",receivedDate3:"2025-03-28",receivedDate4:"2025-06-17",adminNote:""},{id:"2",psId:"12",building:"校本部",carType:"機車",parkingSpaceNum:"05",startDate:"2024-08-01",endDate:"2025-01-31",amount:"100",licensePlateNum:"1AA-123",company:"頂尖科技股份有限公司",uniformNum:"23456789",applicant:"李頂",email:"ting@toptech.com",phone:"0912-345678",deadline1:"2024-11-01",deadline2:"2025-01-21",deadline3:"2025-02-01",deadline4:"",receiptNum1:"RM567890",receiptNum2:"RM678901",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-10-29",receivedDate2:"2025-01-18",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"3",psId:"13",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B2-12",startDate:"2024-09-01",endDate:"2025-02-28",amount:"2,500",licensePlateNum:"5678-CD",company:"創意股份有限公司",uniformNum:"34567890",applicant:"林創",email:"chuang@creative.com",phone:"02-86719876",deadline1:"2024-12-01",deadline2:"2025-02-18",deadline3:"2025-03-01",deadline4:"",receiptNum1:"RM789012",receiptNum2:"RM890123",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-11-28",receivedDate2:"2025-02-15",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"4",psId:"14",building:"校本部",carType:"機車",parkingSpaceNum:"12",startDate:"2024-07-15",endDate:"2025-07-14",amount:"100",licensePlateNum:"2BB-456",company:"華麗有限公司",uniformNum:"45678901",applicant:"周華",email:"hua@glamorous.com",phone:"0912-876543",deadline1:"2024-10-15",deadline2:"2025-01-15",deadline3:"2025-04-15",deadline4:"2025-07-04",receiptNum1:"RM890124",receiptNum2:"RM901235",receiptNum3:"RM012346",receiptNum4:"RM123457",receivedDate1:"2024-10-12",receivedDate2:"2025-01-12",receivedDate3:"2025-04-12",receivedDate4:"2025-07-01",adminNote:""},{id:"5",psId:"15",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B3-03",startDate:"2024-08-01",endDate:"2025-07-31",amount:"2,500",licensePlateNum:"2345-EF",company:"豪華國際股份有限公司",uniformNum:"56789012",applicant:"陳豪",email:"hao@luxury.com",phone:"02-86713456",deadline1:"2024-11-01",deadline2:"2025-02-01",deadline3:"2025-05-01",deadline4:"2025-07-21",receiptNum1:"RM234568",receiptNum2:"RM345679",receiptNum3:"RM456780",receiptNum4:"RM567891",receivedDate1:"2024-10-29",receivedDate2:"2025-01-29",receivedDate3:"2025-04-29",receivedDate4:"2025-07-18",adminNote:""},{id:"6",psId:"16",building:"校本部",carType:"機車",parkingSpaceNum:"21",startDate:"",endDate:"",amount:"100",licensePlateNum:"3CC-789",company:"",uniformNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"7",psId:"17",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B1-09",startDate:"2024-09-01",endDate:"2024-11-30",amount:"3,000",licensePlateNum:"6789-GH",company:"高效能股份有限公司",uniformNum:"67890123",applicant:"劉效",email:"xiao@efficient.com",phone:"02-86717890",deadline1:"2024-12-01",deadline2:"2025-03-01",deadline3:"2024-11-20",deadline4:"",receiptNum1:"RM678912",receiptNum2:"RM789023",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-11-28",receivedDate2:"2024-11-17",receivedDate3:"",receivedDate4:"",adminNote:""},{id:"8",psId:"18",building:"校本部",carType:"機車",parkingSpaceNum:"31",startDate:"2024-07-01",endDate:"2025-06-30",amount:"100",licensePlateNum:"4DD-123",company:"先進科技有限公司",uniformNum:"78901234",applicant:"周先",email:"xian@advancedtech.com",phone:"0912-987654",deadline1:"2024-10-01",deadline2:"2025-01-01",deadline3:"2025-04-01",deadline4:"2025-06-20",receiptNum1:"RM890125",receiptNum2:"RM901236",receiptNum3:"RM012347",receiptNum4:"RM123458",receivedDate1:"2024-09-28",receivedDate2:"2024-12-28",receivedDate3:"2025-03-28",receivedDate4:"2025-06-17",adminNote:""},{id:"9",psId:"19",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B4-15",startDate:"2024-08-01",endDate:"2025-07-31",amount:"2,500",licensePlateNum:"3456-IJ",company:"精英國際股份有限公司",uniformNum:"89012345",applicant:"吳精",email:"jing@elite.com",phone:"02-86712345",deadline1:"2024-11-01",deadline2:"2025-02-01",deadline3:"2025-05-01",deadline4:"2025-07-21",receiptNum1:"RM123459",receiptNum2:"RM234570",receiptNum3:"RM345681",receiptNum4:"RM456792",receivedDate1:"2024-10-29",receivedDate2:"2025-01-29",receivedDate3:"2025-04-29",receivedDate4:"2025-07-18",adminNote:""},{id:"10",psId:"20",building:"校本部",carType:"機車",parkingSpaceNum:"44",startDate:"2024-09-01",endDate:"2024-11-30",amount:"100",licensePlateNum:"5EE-456",company:"新創有限公司",uniformNum:"90123456",applicant:"蔡新",email:"xin@newstartup.com",phone:"0912-876543",deadline1:"2024-12-01",deadline2:"2024-11-20",deadline3:"",deadline4:"",receiptNum1:"RM678913",receiptNum2:"RM789024",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-11-28",receivedDate2:"2024-11-17",receivedDate3:"",receivedDate4:"",adminNote:""}],companyData=["超級棒股份有限公司","大富翁科技有限公司","迅捷物流股份有限公司","綠能科技有限公司","全球股份有限公司","宇宙科技有限公司","光速科技有限公司"],parkingSpaceCarData=["B1-01","B1-02","B2-03","B3-04","B2-05","B2-07","B3-11"],parkingSpaceMotoData=["B1-21","B1-22","B2-23","B3-24","B2-25","B2-26","B3-27"],idCardData=["N000030","N000051","N000040","N000089","N000012","N000060","N000070"],roomData=["新德惠大樓/101","綜合大樓/201","挺生大樓/714","實驗大樓/101","北設工大樓/713","綜合大樓/A4-102","挺生大樓/809"],selectOptionPaymentPurpose=[{option:"新申請"},{option:"補發"},{option:"續約"},{option:"階段費用"}],selectOptionPurchase=[{option:"汽車位"},{option:"機車位"},{option:"識別證"},{option:"培育室"}],selectOptionStatus=[{option:"待確認"},{option:"完成"},{option:"取消"},{option:"刪除"}];$(function(){dataset_confirmPaymentParkingSpace.forEach(e=>{e.company?e.deadline4?e.receivedDate4?e.recentMaturityDate="0":e.receiptNum3?e.recentMaturityDate=e.deadline4:e.recentMaturityDate=e.deadline3:e.deadline3?e.receivedDate3?e.recentMaturityDate="0":e.receiptNum2?e.recentMaturityDate=e.deadline3:e.recentMaturityDate=e.deadline2:e.deadline2?e.receivedDate2?e.recentMaturityDate="0":e.receiptNum1?e.recentMaturityDate=e.deadline2:e.recentMaturityDate=e.deadline1:e.receivedDate1?e.recentMaturityDate="0":e.recentMaturityDate=e.deadline1:e.recentMaturityDate=""}),$("#confirmPaymentParkingSpaceList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentParkingSpace,columns:[{data:"building",title:"大樓"},{data:"parkingSpaceNum",title:"車位號碼"},{data:"amount",title:"費用"},{data:"company",title:"承租公司",render:function(e){return null===e||""==e?"-":e}},{data:"deadline1",title:"階段&#10102;",render:function(e,t,a){a=a.receivedDate1;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline2",title:"階段&#10103;",render:function(e,t,a){a=a.receivedDate2;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline3",title:"階段&#10104;",render:function(e,t,a){a=a.receivedDate3;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline4",title:"階段&#10105;",render:function(e,t,a){a=a.receivedDate4;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"id",title:"操作",render:function(e,t,a){var n=a.company,a=a.psId;return n?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="'+e+'" title="修改"><i class="fa-solid fa-wrench"></i>':'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="'+a+'_N" title="配置進駐廠商"><i class="fa-regular fa-keyboard"></i>'},className:"text-center text-nowrap"},{data:"id",title:"下期",render:function(e,t,a){var n=a.company,a=a.psId;return n?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="'+a+'_N" title="配置下期進駐廠商"><i class="fa-regular fa-keyboard"></i>':""},className:"text-center text-nowrap"},{data:"recentMaturityDate",visible:!1}],order:[[10,"asc"],[0,"desc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[1],responsivePriority:2},{targets:[2],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8,9,10]},{className:"text-lg-center",targets:[0,4,5,6,7]},{className:"text-center",targets:[0,1]},{className:"text-nowrap",targets:[0,1,2,4,5,6]}],createdRow:function(t,e,a){[8,9].forEach(function(e){$("td:eq("+e+")",t).css("max-width","70px")}),[0,1,2,4,5,6,7].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}}),dataset_confirmPaymentCultivationRoom.forEach(e=>{e.company?e.deadline4?e.receivedDate4?e.recentMaturityDate="0":e.receiptNum3?e.recentMaturityDate=e.deadline4:e.recentMaturityDate=e.deadline3:e.deadline3?e.receivedDate3?e.recentMaturityDate="0":e.receiptNum2?e.recentMaturityDate=e.deadline3:e.recentMaturityDate=e.deadline2:e.deadline2?e.receivedDate2?e.recentMaturityDate="0":e.receiptNum1?e.recentMaturityDate=e.deadline2:e.recentMaturityDate=e.deadline1:e.receivedDate1?e.recentMaturityDate="0":e.recentMaturityDate=e.deadline1:e.recentMaturityDate=""}),$("#confirmPaymentCultivationRoomList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentCultivationRoom,columns:[{data:"building",title:"大樓"},{data:"room",title:"室"},{data:"amount",title:"費用"},{data:"company",title:"配置公司",render:function(e){return e||"-"}},{data:"deadline1",title:"階段&#10102;",render:function(e,t,a){a=a.receivedDate1;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline2",title:"階段&#10103;",render:function(e,t,a){a=a.receivedDate2;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline3",title:"階段&#10104;",render:function(e,t,a){a=a.receivedDate3;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"deadline4",title:"階段&#10105;",render:function(e,t,a){a=a.receivedDate4;return a?'<i class="fa-solid fa-sack-dollar"></i> '+a:e?'<i class="fa-regular fa-calendar-days"></i> '+e:"-"}},{data:"id",title:"操作",render:function(e,t,a){var n=a.company,a=a.roomId;return n?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="'+e+'" title="修改"><i class="fa-solid fa-wrench"></i>':'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="'+a+'_N" title="配置進駐廠商"><i class="fa-regular fa-keyboard"></i>'},className:"text-center text-nowrap"},{data:"id",title:"下期",render:function(e,t,a){var n=a.company,a=a.roomId;return n?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="'+a+'_N" title="配置下期進駐廠商"><i class="fa-regular fa-keyboard"></i>':""},className:"text-center text-nowrap"},{data:"recentMaturityDate",visible:!1}],order:[[10,"asc"],[0,"desc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[1],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8,9,10]},{className:"text-center",targets:[1,4,5,6,7]},{className:"text-nowrap",targets:[0,1,2,4,5,6,7]}],createdRow:function(t,e,a){[8,9].forEach(function(e){$("td:eq("+e+")",t).css("max-width","70px")}),[2,4,5,6,7].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}}),$("#confirmPaymentAllList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentAll,columns:[{data:"createDate",title:"通知日期"},{data:"company",title:"通知公司"},{data:"paymentDate",title:"付款日"},{data:"type",title:"項目",render:function(e,t,a){a=a.placeOrPrint;return a?e+"："+a:e}},{data:"paymentPurpose",title:"目的"},{data:"amount",title:"付款金額"},{data:"adminNote",title:"管理備註"},{data:"id",title:"收據",render:function(e,t,a){a=a.status;return"完成"==a||"取消"==a?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentModel" data-id="'+e+'"><i class="fa-solid fa-receipt"></i>':'<button type="button" class="btn btn-info rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentModel" data-id="'+e+'" title="登記收據資訊"><i class="fa-solid fa-receipt"></i>'},className:"text-center text-nowrap"},{data:"status",visible:!1}],order:[[8,"desc"],[0,"desc"],[2,"desc"],[3,"desc"]],columnDefs:[{targets:[1],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[4],responsivePriority:3},{searchable:!1,orderable:!1,targets:[7]},{className:"text-center",targets:[0,2]},{className:"text-nowrap",targets:[0,2,3,4,5]}],createdRow:function(t,e,a){$("td:eq(7)",t).css("min-width","70px"),[0,2].forEach(function(e){$("td:eq("+e+")",t).css("min-width","130px")}),[0,2,5,6].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}})}),$(function(){$("#confirmPaymentModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let t=String(e.data("id"));$("#payment_updateBtn").off("click"),$("#danger_paymentBox").text("");e=dataset_confirmPaymentAll.find(e=>e.id===t);e?($("#payment_companyName").text(e.company),$("#payment_uniformNum").text(e.uniformNum),$("#payment_paymentPurpose").text(e.paymentPurpose),$("#payment_companyEmail").text(e.companyEmail),$("#payment_contactPerson").text(e.contactPerson),$("#payment_companyPhone").text(e.companyPhone),$("#payment_paymentDate").text(e.paymentDate),$("#payment_paymentAmount").text(e.amount),$("#payment_paymentMethod").text(e.paymentMethod),$("#payment_last5AccountNo").text(e.last5AccountNo),$("#payment_type").text(e.type),$("#payment_placeOrPrint").text(e.placeOrPrint),$("#payment_downloadRemittanceFile").text(e.remittanceFile),$("#payment_receiptDate").text(e.receiptDate),$("#payment_receiptAmount").text(e.receiptAmount),$("#payment_receiptItems").text(e.receiptItems),$("#payment_receiptNum").text(e.receiptNum),$("#payment_status").text(e.status),$("#payment_adminNote").text(e.adminNote)):console.error("paymentData data not found for id:",t),"完成"===e.status||"取消"===e.status?(CustomInputHandlers.destroy(),$("#payment_placeOrPrint, #payment_receiptItems, #payment_receiptNum, #payment_adminNote").removeClass("changeInput_items"),$("#payment_paymentDate, #payment_receiptDate").removeClass("changeDate_items"),$("#payment_paymentAmount, #payment_receiptAmount").removeClass("changeMoney_items"),$("#payment_paymentPurpose").removeClass("changeSelectPaymentPurpose_items"),$("#payment_paymentMethod").removeClass("changeRadioPayMethod_items"),$("#payment_last5AccountNo").removeClass("changeNumber5_items"),$("#payment_type").removeClass("changeSelectPurchase_items"),$("#payment_status").removeClass("changeSelectStatus_items"),$("#payment_placeOrPrint, #payment_receiptItems, #payment_receiptNum, #payment_adminNote, #payment_paymentDate, #payment_receiptDate, #payment_paymentAmount, #payment_receiptAmount, #payment_paymentPurpose, #payment_paymentMethod, #payment_last5AccountNo, #payment_type, #payment_status").addClass("readOnly"),$("#payment_updateBtn").hide()):($("#payment_placeOrPrint, #payment_receiptItems, #payment_receiptNum, #payment_adminNote").addClass("changeInput_items"),$("#payment_paymentDate, #payment_receiptDate").addClass("changeDate_items"),$("#payment_paymentAmount, #payment_receiptAmount").addClass("changeMoney_items"),$("#payment_paymentPurpose").addClass("changeSelectPaymentPurpose_items"),$("#payment_paymentMethod").addClass("changeRadioPayMethod_items"),$("#payment_last5AccountNo").addClass("changeNumber5_items"),$("#payment_type").addClass("changeSelectPurchase_items"),$("#payment_status").addClass("changeSelectStatus_items"),$("#payment_placeOrPrint, #payment_receiptItems, #payment_receiptNum, #payment_adminNote, #payment_paymentDate, #payment_receiptDate, #payment_paymentAmount, #payment_receiptAmount, #payment_paymentPurpose, #payment_paymentMethod, #payment_last5AccountNo, #payment_type, #payment_status").removeClass("readOnly"),CustomInputHandlers.init(),$("#payment_updateBtn").show()),$("#payment_updateBtn").on("click",function(){console.log("當前的 paymentId:",t);var e={};e.id=t,e.companyName=$("#payment_companyName").text(),e.uniformNum=$("#payment_uniformNum").text(),e.paymentPurpose=$("#payment_paymentPurpose").text(),e.companyEmail=$("#payment_companyEmail").text(),e.contactPerson=$("#payment_contactPerson").text(),e.companyPhone=$("#payment_companyPhone").text(),e.paymentDate=$("#payment_paymentDate").text(),e.amount=$("#payment_paymentAmount").text(),e.paymentMethod=$("#payment_paymentMethod").text(),e.last5AccountNo=$("#payment_last5AccountNo").text(),e.type=$("#payment_type").text(),e.placeOrPrint=$("#payment_placeOrPrint").text(),e.remittanceFile=$("#payment_downloadRemittanceFile").text(),e.receiptDate=$("#payment_receiptDate").text(),e.receiptAmount=$("#payment_receiptAmount").text(),e.receiptItems=$("#payment_receiptItems").text(),e.receiptNum=$("#payment_receiptNum").text(),e.status=$("#payment_status").text(),e.adminNote=$("#payment_adminNote").text(),"完成"!=e.status?(console.log(e),$.ajax({url:"您的後端URL",type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){console.log("更新成功:",e)},error:function(e,t,a){console.error("更新失敗:",a)}})):e.receiptDate&&e.receiptAmount&&e.receiptItems&&e.receiptNum?(console.log(e),$.ajax({url:"後端URL",type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){console.log("更新成功:",e)},error:function(e,t,a){console.error("更新失敗:",a)}})):$("#danger_paymentBox").text("請填上完整的收據資料，才可以記為『完成』歐！")})}),$("#confirmPaymentCultivationModel").on("show.bs.modal",function(e){$("#cultivation_receiptNum1, #cultivation_receiptNum2, #cultivation_receiptNum3, #cultivation_receiptNum4, #cultivation_adminNote").addClass("changeInput_items"),$("#cultivation_startDate, #cultivation_endDate, #cultivation_deadline1, #cultivation_deadline2, #cultivation_deadline3, #cultivation_deadline4").addClass("changeDate_items"),$("#cultivation_rate").addClass("changeMoney_items"),$("#cultivation_uniformNum").addClass("changeUniformNum_items"),$("#cultivation_squareMeters").addClass("changeDecimal_items"),CustomInputHandlers.init();var e=$(e.relatedTarget);let t=String(e.data("id"));console.log("roomId 1 :",t),t.endsWith("_N")?(roomId_N=t.slice(0,-2),(e=dataset_confirmPaymentCultivationRoom.find(e=>e.roomId===roomId_N))?($("#cultivation_deleteData").addClass("d-none"),$("#cultivation_building").text(e.building),$("#cultivation_room").text(e.room),$("#cultivation_squareMeters").text(e.squareMeters),$("#cultivation_startDate").text(""),$("#cultivation_endDate").text(""),$("#cultivation_rate").text(e.amount),$("#cultivation_companyName").text(""),$("#cultivation_uniformNum").text(""),$("#cultivation_responsiblePerson").text(""),$("#cultivation_companyEmail").text(""),$("#cultivation_contactPerson").text(""),$("#cultivation_companyPhone").text(""),$("#cultivation_deadline1").text(""),$("#cultivation_deadline2").text(""),$("#cultivation_deadline3").text(""),$("#cultivation_deadline4").text(""),$("#cultivation_receiptNum1").text(""),$("#cultivation_receiptNum2").text(""),$("#cultivation_receiptNum3").text(""),$("#cultivation_receiptNum4").text(""),$("#cultivation_receivedDate1").text(""),$("#cultivation_receivedDate2").text(""),$("#cultivation_receivedDate3").text(""),$("#cultivation_receivedDate4").text(""),$("#cultivation_adminNote").text("")):console.error("openRoomData data not found for id:",roomId_N)):(e=dataset_confirmPaymentCultivationRoom.find(e=>e.id===t))?($("#cultivation_deleteData").removeClass("d-none"),$("#cultivation_building").text(e.building),$("#cultivation_room").text(e.room),$("#cultivation_squareMeters").text(e.squareMeters),$("#cultivation_startDate").text(e.startDate),$("#cultivation_endDate").text(e.endDate),$("#cultivation_rate").text(e.amount),$("#cultivation_companyName").text(e.company),$("#cultivation_uniformNum").text(e.uniformNum),$("#cultivation_responsiblePerson").text(e.responsiblePerson),$("#cultivation_companyEmail").text(e.companyEmail),$("#cultivation_contactPerson").text(e.contactPerson),$("#cultivation_companyPhone").text(e.companyPhone),$("#cultivation_deadline1").text(e.deadline1),$("#cultivation_deadline2").text(e.deadline2),$("#cultivation_deadline3").text(e.deadline3),$("#cultivation_deadline4").text(e.deadline4),$("#cultivation_receiptNum1").text(e.receiptNum1),$("#cultivation_receiptNum2").text(e.receiptNum2),$("#cultivation_receiptNum3").text(e.receiptNum3),$("#cultivation_receiptNum4").text(e.receiptNum4),$("#cultivation_receivedDate1").text(e.receivedDate1),$("#cultivation_receivedDate2").text(e.receivedDate2),$("#cultivation_receivedDate3").text(e.receivedDate3),$("#cultivation_receivedDate4").text(e.receivedDate4),$("#cultivation_adminNote").text(e.adminNote)):console.error("openRoomData data not found for id:",roomId),$("#cultivation_updateBtn").off("click"),$("#cultivation_updateBtn").on("click",function(){console.log("roomId 2 :",t),(updatedData={}).id=t,updatedData.contactPerson=$("#cultivation_squareMeters").text(),updatedData.startDate=$("#cultivation_startDate").text(),updatedData.endDate=$("#cultivation_endDate").text(),updatedData.amount=$("#cultivation_rate").text(),updatedData.uniformNum=$("#cultivation_uniformNum").text(),updatedData.deadline1=$("#cultivation_deadline1").text(),updatedData.deadline2=$("#cultivation_deadline2").text(),updatedData.deadline3=$("#cultivation_deadline3").text(),updatedData.deadline4=$("#cultivation_deadline4").text(),updatedData.receiptNum1=$("#cultivation_receiptNum1").text(),updatedData.receiptNum2=$("#cultivation_receiptNum2").text(),updatedData.receiptNum3=$("#cultivation_receiptNum3").text(),updatedData.receiptNum4=$("#cultivation_receiptNum4").text(),updatedData.adminNote=$("#cultivation_adminNote").text(),console.log(updatedData)}),$("#cultivation_deleteData").off("click"),$("#cultivation_deleteData").on("click",function(){(deleteData={}).id=t,swalConfirm("確定要刪除嗎？","是啊，這個沒用了...","不要阿 ~ 我是誤按！！",function(){console.log(deleteData)})})}),$("#confirmPaymentParkingSpaceModel").on("show.bs.modal",function(e){$("#parkingSapce_receiptNum1, #parkingSapce_receiptNum2, #parkingSapce_receiptNum3, #parkingSapce_receiptNum4, #parkingSapce_adminNote").addClass("changeInput_items"),$("#parkingSapce_startDate, #parkingSapce_endDate, #parkingSapce_deadline1, #parkingSapce_deadline2, #parkingSapce_deadline3, #parkingSapce_deadline4").addClass("changeDate_items"),$("#parkingSapce_rate").addClass("changeMoney_items"),$("#parkingSapce_licensePlateNum").addClass("changeInputUpperNumberHyphen_items"),CustomInputHandlers.init();var e=$(e.relatedTarget);let t=String(e.data("id"));console.log("parkingSpaceId 1 :",t),t.endsWith("_N")?(psId_N=t.slice(0,-2),(e=dataset_confirmPaymentParkingSpace.find(e=>e.psId===psId_N))?($("#parkingSapce_deleteData").addClass("d-none"),$("#parkingSapce_building").text(e.building),$("#parkingSapce_parkingSpaceNum").text(e.parkingSpaceNum),$("#parkingSapce_carType").text(e.carType),$("#parkingSapce_startDate").text(""),$("#parkingSapce_endDate").text(""),$("#parkingSapce_rate").text(e.amount),$("#parkingSapce_companyName").text(""),$("#parkingSapce_uniformNum").text(""),$("#parkingSapce_licensePlateNum").text(""),$("#parkingSapce_email").text(""),$("#parkingSapce_phone").text(""),$("#parkingSapce_applicant").text(""),$("#parkingSapce_deadline1").text(""),$("#parkingSapce_deadline2").text(""),$("#parkingSapce_deadline3").text(""),$("#parkingSapce_deadline4").text(""),$("#parkingSapce_receiptNum1").text(""),$("#parkingSapce_receiptNum2").text(""),$("#parkingSapce_receiptNum3").text(""),$("#parkingSapce_receiptNum4").text(""),$("#parkingSapce_receivedDate1").text(""),$("#parkingSapce_receivedDate2").text(""),$("#parkingSapce_receivedDate3").text(""),$("#parkingSapce_receivedDate4").text(""),$("#parkingSapce_adminNote").text("")):console.error("openRoomData data not found for id:",psId_N)):(e=dataset_confirmPaymentParkingSpace.find(e=>e.id===t))?($("#parkingSapce_deleteData").removeClass("d-none"),$("#parkingSapce_building").text(e.building),$("#parkingSapce_parkingSpaceNum").text(e.parkingSpaceNum),$("#parkingSapce_carType").text(e.carType),$("#parkingSapce_startDate").text(e.startDate),$("#parkingSapce_endDate").text(e.endDate),$("#parkingSapce_rate").text(e.amount),$("#parkingSapce_companyName").text(e.company),$("#parkingSapce_uniformNum").text(e.uniformNum),$("#parkingSapce_licensePlateNum").text(e.licensePlateNum),$("#parkingSapce_email").text(e.email),$("#parkingSapce_phone").text(e.phone),$("#parkingSapce_applicant").text(e.applicant),$("#parkingSapce_deadline1").text(e.deadline1),$("#parkingSapce_deadline2").text(e.deadline2),$("#parkingSapce_deadline3").text(e.deadline3),$("#parkingSapce_deadline4").text(e.deadline4),$("#parkingSapce_receiptNum1").text(e.receiptNum1),$("#parkingSapce_receiptNum2").text(e.receiptNum2),$("#parkingSapce_receiptNum3").text(e.receiptNum3),$("#parkingSapce_receiptNum4").text(e.receiptNum4),$("#parkingSapce_receivedDate1").text(e.receivedDate1),$("#parkingSapce_receivedDate2").text(e.receivedDate2),$("#parkingSapce_receivedDate3").text(e.receivedDate3),$("#parkingSapce_receivedDate4").text(e.receivedDate4),$("#parkingSapce_adminNote").text(e.adminNote)):console.error("openRoomData data not found for id:",roomId),$("#parkingSapce_updateBtn").off("click"),$("#parkingSapce_updateBtn").on("click",function(){console.log("psId 2 :",t),(updatedData={}).id=t,updatedData.contactPerson=$("#cultivation_squareMeters").text(),updatedData.startDate=$("#parkingSapce_startDate").text(),updatedData.endDate=$("#parkingSapce_endDate").text(),updatedData.amount=$("#parkingSapce_rate").text(),updatedData.licensePlateNum=$("#parkingSapce_licensePlateNum").text(),updatedData.deadline1=$("#parkingSapce_deadline1").text(),updatedData.deadline2=$("#parkingSapce_deadline2").text(),updatedData.deadline3=$("#parkingSapce_deadline3").text(),updatedData.deadline4=$("#parkingSapce_deadline4").text(),updatedData.receiptNum1=$("#parkingSapce_receiptNum1").text(),updatedData.receiptNum2=$("#parkingSapce_receiptNum2").text(),updatedData.receiptNum3=$("#parkingSapce_receiptNum3").text(),updatedData.receiptNum4=$("#parkingSapce_receiptNum4").text(),updatedData.adminNote=$("#parkingSapce_adminNote").text(),console.log(updatedData)}),$("#parkingSapce_deleteData").off("click"),$("#parkingSapce_deleteData").on("click",function(){(deleteData={}).id=t,swalConfirm("確定要刪除嗎？","是啊，這個沒用了...","不要阿 ~ 我是誤按！！",function(){console.log(deleteData)})})})}),$(function(){var e=$("#confirmPaymentCultivationRoomList").DataTable(),t=$("#confirmPaymentParkingSpaceList").DataTable(),a=$("#confirmPaymentAllList").DataTable();$('input[type="radio"][name="btnradio"]').on("change",function(){setTimeout(function(){e.columns.adjust().responsive.recalc(),t.columns.adjust().responsive.recalc(),a.columns.adjust().responsive.recalc()},200)})}),$(function(){function e(){var e;switch($("#type").val()){case"識別證":e=idCardData;break;case"機車位":e=parkingSpaceMotoData;break;case"汽車位":e=parkingSpaceCarData;break;case"培育室":e=roomData}$("#typeahead_itemNum").typeahead("destroy"),$("#typeahead_itemNum").typeahead({source:e})}$("#typeahead_company").typeahead({source:companyData}),$("#type").change(e),e()});