var dataset_confirmPaymentReceipt=[{id:"R1",createDate:"2024-08-01",receiptNum:"AE123456",receiptDate:"2024-08-02",item:"服務費",amount:"35,000",company:"頂尖科技有限公司",uniformNum:"12345678",adminNote:"",status:"使用中",createBy:"王小明"},{id:"R2",createDate:"2024-08-03",receiptNum:"AE234567",receiptDate:"2024-08-04",item:"場地維護費",amount:"2,500",company:"創新股份有限公司",uniformNum:"23456789",adminNote:"",status:"使用中",createBy:"王二明"},{id:"R3",createDate:"2024-08-05",receiptNum:"AE345678",receiptDate:"2024-08-06",item:"服務費",amount:"50,000",company:"宏達有限公司",uniformNum:"34567890",adminNote:"",status:"作廢收回",createBy:"王三明"},{id:"R4",createDate:"2024-08-07",receiptNum:"AE456789",receiptDate:"2024-08-08",item:"場地維護費",amount:"15,000",company:"光明股份有限公司",uniformNum:"45678901",adminNote:"",status:"作廢收回",createBy:"王小明"},{id:"R5",createDate:"2024-08-09",receiptNum:"AE567890",receiptDate:"2024-08-10",item:"服務費",amount:"40,000",company:"威士達有限公司",uniformNum:"56789012",adminNote:"",status:"作廢收回",createBy:"王四明"},{id:"R6",createDate:"2024-08-11",receiptNum:"AE678901",receiptDate:"2024-08-12",item:"場地維護費",amount:"12,000",company:"佳利科技有限公司",uniformNum:"67890123",adminNote:"",status:"使用中",createBy:"王小明"},{id:"R7",createDate:"2024-08-13",receiptNum:"AE789012",receiptDate:"2024-08-14",item:"服務費",amount:"5,000",company:"世紀股份有限公司",uniformNum:"78901234",adminNote:"",status:"使用中",createBy:"王五明"},{id:"R8",createDate:"2024-08-15",receiptNum:"AE890123",receiptDate:"2024-08-16",item:"場地維護費",amount:"25,000",company:"聯合股份有限公司",uniformNum:"89012345",adminNote:"",status:"使用中",createBy:"王小明"},{id:"R9",createDate:"2024-08-17",receiptNum:"AE901234",receiptDate:"2024-08-18",item:"服務費",amount:"10,000",company:"智遠有限公司",uniformNum:"90123456",adminNote:"",status:"使用中",createBy:"王小明"},{id:"R10",createDate:"2024-08-19",receiptNum:"AE012345",receiptDate:"2024-08-20",item:"場地維護費",amount:"18,000",company:"遠見科技有限公司",uniformNum:"01234567",adminNote:"",status:"使用中",createBy:"王六明"}],dataset_confirmPaymentAll=[{id:"1",createDate:"2024-07-15",paymentDate:"2024-07-13",adminNote:"",status:"待確認",company:"超級棒股份有限公司",uniformNum:"12345678",amount:"2,500",last5AccountNo:"01234",remittanceFile:"20240713_MD231.pdf",companyEmail:"contact@supercompany.com",contactPerson:"王大明",companyPhone:"02-86710001",items:[{id:"CP1",type:"階段付款",description:"培育室(挺生大樓-202)",amount:"20,000元"},{id:"CP2",type:"階段付款",description:"停車位(校本部-01)",amount:"2,000元"},{id:"CA1",type:"新申請",description:"停車位(ABC-119)",amount:"費用待確認"},{id:"BA1",type:"新申請",description:"識別證(王小明)",amount:"100元"},{id:"BA2",type:"遺失補發",description:"識別證(王小明)",amount:"300元"}]},{id:"2",createDate:"2024-07-16",paymentDate:"2024-07-14",adminNote:"",status:"取消",applicationNum:"15",type:"機車位",company:"大富翁科技有限公司",uniformNum:"87654321",paymentPurpose:"新申請",placeOrPrint:"",amount:"100",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"",companyEmail:"contact@bigmonopoly.com",contactPerson:"李四",companyPhone:"0912-345678"},{id:"3",createDate:"2024-07-17",paymentDate:"2024-07-15",adminNote:"",status:"待確認",applicationNum:"18",type:"識別證",company:"迅捷物流股份有限公司",uniformNum:"23456789",paymentPurpose:"補發",placeOrPrint:"N000034",amount:"300",paymentMethod:"匯款",last5AccountNo:"56789",remittanceFile:"20240715_MD45",receiptNum:"",companyEmail:"contact@swiftlogistics.com",contactPerson:"陳小華",companyPhone:"02-86710002"},{id:"4",createDate:"2024-07-18",paymentDate:"2024-07-16",adminNote:"",status:"待確認",applicationNum:"20",type:"培育室",company:"綠能科技有限公司",uniformNum:"34567890",paymentPurpose:"階段費用",placeOrPrint:"青創基地-201",amount:"45,000",paymentMethod:"匯款",last5AccountNo:"67890",remittanceFile:"20240716_MD67",receiptNum:"RM000126",companyEmail:"contact@greenenergy.com",contactPerson:"林小強",companyPhone:"02-86710003"},{id:"5",createDate:"2024-07-19",paymentDate:"2024-07-17",adminNote:"",status:"待確認",applicationNum:"22",type:"汽車位",company:"全球股份有限公司",uniformNum:"45678901",paymentPurpose:"續約",placeOrPrint:"",amount:"3,000",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000127",companyEmail:"contact@globalinc.com",contactPerson:"張偉",companyPhone:"0912-345679"},{id:"6",createDate:"2024-07-20",paymentDate:"2024-07-18",adminNote:"",status:"待確認",applicationNum:"25",type:"機車位",company:"宇宙科技有限公司",uniformNum:"56789012",paymentPurpose:"續約",placeOrPrint:"B1-07",amount:"100",paymentMethod:"匯款",last5AccountNo:"89012",remittanceFile:"20240718_MD89",receiptNum:"RM000128",companyEmail:"contact@universe.com",contactPerson:"劉明",companyPhone:"02-86710004"},{id:"7",createDate:"2024-07-21",paymentDate:"2024-07-19",adminNote:"",status:"待確認",applicationNum:"28",type:"識別證",company:"光速科技有限公司",uniformNum:"67890123",paymentPurpose:"補發",placeOrPrint:"N000056",amount:"300",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000129",companyEmail:"contact@lightspeed.com",contactPerson:"黃家豪",companyPhone:"0912-345670"},{id:"8",createDate:"2024-07-22",paymentDate:"2024-07-20",adminNote:"",status:"待確認",applicationNum:"30",type:"培育室",company:"宏達電子有限公司",uniformNum:"78901234",paymentPurpose:"階段費用",placeOrPrint:"青創基地-201",amount:"40,000",paymentMethod:"匯款",last5AccountNo:"90123",remittanceFile:"20240720_MD01",receiptNum:"RM000130",companyEmail:"contact@htcelectronics.com",contactPerson:"張雅婷",companyPhone:"02-86710005"},{id:"9",createDate:"2024-07-23",paymentDate:"2024-07-21",adminNote:"",status:"待確認",applicationNum:"32",type:"汽車位",company:"智能機械有限公司",uniformNum:"89012345",paymentPurpose:"續約",placeOrPrint:"B3-10",amount:"2,500",paymentMethod:"現金",last5AccountNo:"",remittanceFile:"",receiptNum:"RM000131",companyEmail:"contact@smartmachinery.com",contactPerson:"王志豪",companyPhone:"0912-345671"},{id:"10",createDate:"2024-07-24",paymentDate:"2024-07-22",adminNote:"",status:"完成",applicationNum:"35",type:"機車位",company:"聯合工業股份有限公司",uniformNum:"90123456",paymentPurpose:"新申請",placeOrPrint:"",amount:"100",paymentMethod:"匯款",last5AccountNo:"23456",remittanceFile:"20240722_MD23",receiptDate:"2024-07-31",receiptAmount:"100",receiptItems:"場地維護費",receiptNum:"RM000132",companyEmail:"contact@unitedindustries.com",contactPerson:"許文",companyPhone:"02-86710006"}],dataset_confirmPaymentCultivationRoom=[{roomId:"10",building:"新德惠大樓",room:"101",defaultSquareMeters:"15.4",defaultAmount:"40,000",recentMaturityDate:"2024-07-29",now:{id:"1",squareMeters:"15.4",amount:"40,000",startDate:"2024-08-01",endDate:"2025-07-31",period:"4",company:"超級棒股份有限公司",uniformNum:"12345678",responsiblePerson:"王大明",companyEmail:"contact@supercompany.com",companyPhone:"02-86710001",contactPerson:"張偉",deadline1:"2024-07-29",deadline2:"2025-02-01",deadline3:"2025-05-01",deadline4:"2025-07-21",receivableAmount1:"36,000",receivableAmount2:"38,000",receivableAmount3:"42,000",receivableAmount4:"44,000",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",squareMeters:"15.4",amount:"40,000",startDate:"",endDate:"",period:"",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",companyPhone:"",contactPerson:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{roomId:"16",building:"新德惠大樓",room:"A4-102",defaultSquareMeters:"16.4",defaultAmount:"35,000",recentMaturityDate:"9999-99-99",now:{id:"",squareMeters:"16.4",amount:"35,000",startDate:"",endDate:"",period:"",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",companyPhone:"",contactPerson:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",squareMeters:"16.4",amount:"35,000",startDate:"",endDate:"",period:"",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",companyPhone:"",contactPerson:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{id:"8",roomId:"17",building:"綜合大樓",room:"A4-103",defaultSquareMeters:"22.3",defaultAmount:"55,000",recentMaturityDate:"2024-08-01",now:{id:"4",squareMeters:"22.3",amount:"55,000",startDate:"2023-11-01",endDate:"2024-10-31",period:"4",company:"光速科技有限公司",uniformNum:"67890123",responsiblePerson:"黃家豪",companyEmail:"contact@lightspeed.com",companyPhone:"0912-345670",contactPerson:"林小明",deadline1:"2024-02-01",deadline2:"2024-05-01",deadline3:"2024-08-01",deadline4:"2024-10-21",receivableAmount1:"51,000",receivableAmount2:"53,000",receivableAmount3:"57,000",receivableAmount4:"59,000",receiptNum1:"RM000147",receiptNum2:"RM000148",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-01-30",receivedDate2:"2024-04-29",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",squareMeters:"16.4",amount:"35,000",startDate:"",endDate:"",period:"",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",companyPhone:"",contactPerson:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{id:"10",roomId:"19",building:"實驗大樓",room:"809",defaultSquareMeters:"14.0",defaultAmount:"60,000",recentMaturityDate:"9999-99-99",now:{id:"8",squareMeters:"14.3",amount:"60,000",startDate:"2023-07-15",endDate:"2024-07-14",period:"3",company:"宏達電子有限公司",uniformNum:"78901234",responsiblePerson:"張雅婷",companyEmail:"contact@htcelectronics.com",companyPhone:"02-86710005",contactPerson:"王志豪",deadline1:"2023-11-15",deadline2:"2024-03-15",deadline3:"2024-07-04",deadline4:"",receivableAmount1:"200,000",receivableAmount2:"240,000",receivableAmount3:"280,000",receivableAmount4:"",receiptNum1:"RM000151",receiptNum2:"RM000152",receiptNum3:"RM000153",receiptNum4:"",receivedDate1:"2023-11-13",receivedDate2:"2024-03-13",receivedDate3:"2024-07-02",receivedDate4:"",adminNote:"AAA"},next:{id:"",squareMeters:"16.4",amount:"35,000",startDate:"",endDate:"",period:"",company:"",uniformNum:"",responsiblePerson:"",companyEmail:"",companyPhone:"",contactPerson:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}}],dataset_confirmPaymentParkingSpace=[{parkingSpaceId:"1",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B1-01",defaultAmount:"2,500",recentMaturityDate:"9999-99-99",now:{id:"1",amount:"3,000",startDate:"2024-07-01",endDate:"2025-06-30",period:"4",company:"偉大企業有限公司",uniformNum:"12345678",licensePlateNum:"1234-AB",applicant:"張偉",email:"wei@awesome.com",phone:"02-86711234",deadline1:"2024-10-01",deadline2:"2025-01-01",deadline3:"2025-04-01",deadline4:"2025-06-20",receivableAmount1:"9,000",receivableAmount2:"9,000",receivableAmount3:"9,000",receivableAmount4:"9,000",receiptNum1:"RM123456",receiptNum2:"RM234567",receiptNum3:"RM345678",receiptNum4:"RM456789",receivedDate1:"2024-09-28",receivedDate2:"2024-12-28",receivedDate3:"2025-03-28",receivedDate4:"2025-06-17",adminNote:""},next:{id:"",amount:"",startDate:"",endDate:"",period:"",company:"",uniformNum:"",licensePlateNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{parkingSpaceId:"2",building:"校本部",carType:"機車",parkingSpaceNum:"05",defaultAmount:"100",recentMaturityDate:"2024-11-01",now:{id:"2",amount:"100",startDate:"2024-08-01",endDate:"2025-01-31",period:"3",company:"頂尖科技股份有限公司",uniformNum:"23456789",licensePlateNum:"1AA-123",applicant:"李頂",email:"ting@toptech.com",phone:"0912-345678",deadline1:"2024-11-01",deadline2:"2025-01-21",deadline3:"2025-02-01",deadline4:"",receivableAmount1:"300",receivableAmount2:"300",receivableAmount3:"300",receivableAmount4:"",receiptNum1:"RM567890",receiptNum2:"RM678901",receiptNum3:"",receiptNum4:"",receivedDate1:"2024-10-29",receivedDate2:"2025-01-18",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",amount:"",startDate:"",endDate:"",period:"",company:"",uniformNum:"",licensePlateNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{parkingSpaceId:"3",building:"新德惠大樓",carType:"汽車",parkingSpaceNum:"B2-12",defaultAmount:"2,500",recentMaturityDate:"9999-99-99",now:{id:"",amount:"",startDate:"",endDate:"",period:"",company:"",uniformNum:"",licensePlateNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",amount:"",startDate:"",endDate:"",period:"",company:"",uniformNum:"",licensePlateNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""}},{parkingSpaceId:"4",building:"校本部",carType:"機車",parkingSpaceNum:"12",defaultAmount:"100",recentMaturityDate:"2025-01-15",now:{id:"6",amount:"100",startDate:"2024-07-15",endDate:"2025-07-14",period:"4",company:"華麗有限公司",uniformNum:"45678901",licensePlateNum:"2BB-456",applicant:"周華",email:"hua@glamorous.com",phone:"0912-876543",deadline1:"2024-10-15",deadline2:"2025-01-15",deadline3:"2025-04-15",deadline4:"2025-07-04",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"",receiptNum2:"",receiptNum3:"",receiptNum4:"",receivedDate1:"",receivedDate2:"",receivedDate3:"",receivedDate4:"",adminNote:""},next:{id:"",amount:"",startDate:"",endDate:"",period:"",company:"",uniformNum:"",licensePlateNum:"",applicant:"",email:"",phone:"",deadline1:"",deadline2:"",deadline3:"",deadline4:"",receivableAmount1:"",receivableAmount2:"",receivableAmount3:"",receivableAmount4:"",receiptNum1:"RM890124",receiptNum2:"RM901235",receiptNum3:"RM012346",receiptNum4:"RM123457",receivedDate1:"2024-10-12",receivedDate2:"2025-01-12",receivedDate3:"2025-04-12",receivedDate4:"2025-07-01",adminNote:""}}],parkingSpaceCarData=["B1-01","B1-02","B2-03","B3-04","B2-05","B2-07","B3-11"],parkingSpaceMotoData=["B1-21","B1-22","B2-23","B3-24","B2-25","B2-26","B3-27"],idCardData=["N000030","N000051","N000040","N000089","N000012","N000060","N000070"],roomData=["新德惠大樓/101","綜合大樓/201","挺生大樓/714","實驗大樓/101","北設工大樓/713","綜合大樓/A4-102","挺生大樓/809"],selectOptionPaymentPurpose=[{option:"新申請"},{option:"補發"},{option:"續約"},{option:"階段費用"}],selectOptionPurchase=[{option:"汽車位"},{option:"機車位"},{option:"識別證"},{option:"培育室"}],selectOptionStatus2=[{option:"使用中"},{option:"作廢收回"},{option:"刪除"}],selectOptionStatus=[{option:"待確認"},{option:"完成"},{option:"取消"},{option:"刪除"}],selectOption=[{option:"1"},{option:"2"},{option:"3"},{option:"4"}];$(function(){$("#confirmPaymentReceiptList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentReceipt,columns:[{data:"createDate",title:"建立日期"},{data:"receiptNum",title:"收據號碼"},{data:"receiptDate",title:"收據日期",className:"text-center"},{data:"item",title:"收據項目"},{data:"amount",title:"收據<br class='d-none d-lg-block'>總額"},{data:"company",title:"收據抬頭"},{data:"uniformNum",title:"收據統編"},{data:"adminNote",title:"管理備註"},{data:"id",title:"操作",render:function(e,t,a){a=a.status;return"使用中"==!a||"作廢收回"==a?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentReceiptModel" data-id="'+e+'"><i class="fa-solid fa-wrench"></i>':'<button type="button" class="btn btn-info rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentReceiptModel" data-id="'+e+'" title="登記收據資訊"><i class="fa-solid fa-wrench"></i>'},className:"text-nowrap"},{data:"status",visible:!1}],order:[[1,"desc"]],columnDefs:[{targets:[1],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8]},{className:"text-lg-center",targets:[0,2,6,8]},{className:"text-nowrap",targets:[0,1,2,4,6,8]}],createdRow:function(t,e,a){$("td:eq(8)",t).css("min-width","70px"),[0,2].forEach(function(e){$("td:eq("+e+")",t).css("min-width","130px")}),[0,2,5,6].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}}),$("#confirmPaymentAllList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentAll,columns:[{data:"createDate",title:"通知日期"},{data:"company",title:"通知公司"},{data:"paymentDate",title:"付款日",className:"text-center"},{data:"amount",title:"付款金額"},{data:"adminNote",title:"管理備註"},{data:"id",title:"操作",render:function(e,t,a){a=a.status;return"完成"==a||"取消"==a?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentModel" data-id="'+e+'"><i class="fa-solid fa-info px-1"></i>':'<button type="button" class="btn btn-info rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentModel" data-id="'+e+'" title="登記收據資訊"><i class="fa-solid fa-info px-1"></i>'}},{data:"status",visible:!1}],order:[[6,"desc"],[0,"desc"],[2,"desc"]],columnDefs:[{targets:[1],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[5]},{className:"text-lg-center",targets:[0,2,5]},{className:"text-nowrap",targets:[0,2,5]}],createdRow:function(t,e,a){$("td:eq(5)",t).css("min-width","70px"),$("td:eq(1)",t).css("min-width","150px"),[0,2,3,4].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}}),$("#confirmPaymentCultivationRoomList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentCultivationRoom,columns:[{data:"building",title:"大樓"},{data:"room",title:"室"},{data:"defaultAmount",title:"預設<br class='d-none d-lg-block'>費用"},{title:"配置公司",data:function(e){return e.now.company||"-"}},{title:"階段&#10102;",data:function(e){var t=new Date,a=new Date(e.now.deadline1);return e.now.receivedDate1?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate1+"</span>":e.now.deadline1?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline1+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline1+"</span>":"-"}},{title:"階段&#10103;",data:function(e){var t=new Date,a=new Date(e.now.deadline2);return e.now.receivedDate2?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate2+"</span>":e.now.deadline2?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline2+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline2+"</span>":"-"}},{title:"階段&#10104;",data:function(e){var t=new Date,a=new Date(e.now.deadline3);return e.now.receivedDate3?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate3+"</span>":e.now.deadline3?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline3+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline3+"</span>":"-"}},{title:"階段&#10105;",data:function(e){var t=new Date,a=new Date(e.now.deadline4);return e.now.receivedDate4?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate4+"</span>":e.now.deadline4?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline4+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline4+"</span>":"-"}},{title:"操作",data:function(e){return e.now.id?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="now_'+e.roomId+'" title="修改"><i class="fa-solid fa-wrench"></i></button>':'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="def_'+e.roomId+'" title="配置進駐廠商"><i class="fa-regular fa-keyboard"></i></button>'}},{title:"下期",data:function(e){return e.now.id?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentCultivationModel" data-id="next_'+e.roomId+'" title="配置下期進駐廠商"><i class="fa-regular fa-keyboard"></i></button>':""}},{data:"recentMaturityDate",visible:!1}],order:[[10,"asc"],[0,"desc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[1],responsivePriority:2},{targets:[3],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8,9,10]},{className:"text-lg-center",targets:[1,4,5,6,7,8,9]},{className:"text-nowrap",targets:[0,1,2,4,5,6,7,8,9]}],createdRow:function(t,e,a){[8,9].forEach(function(e){$("td:eq("+e+")",t).css("max-width","70px")}),[0,1,2,3,4,5,6,7].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")})}}),$("#confirmPaymentParkingSpaceList").DataTable({...commonSettingsTable,data:dataset_confirmPaymentParkingSpace,columns:[{data:"building",title:"大樓"},{data:"parkingSpaceNum",title:"車位<br class='d-none d-lg-block'>號碼"},{data:"defaultAmount",title:"費用"},{title:"承租公司",data:function(e){return e.now.company||"-"}},{title:"階段&#10102;",data:function(e){var t=new Date,a=new Date(e.now.deadline1);return e.now.receivedDate1?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate1+"</span>":e.now.deadline1?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline1+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline1+"</span>":"-"}},{title:"階段&#10103;",data:function(e){var t=new Date,a=new Date(e.now.deadline2);return e.now.receivedDate2?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate2+"</span>":e.now.deadline2?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline2+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline2+"</span>":"-"}},{title:"階段&#10104;",data:function(e){var t=new Date,a=new Date(e.now.deadline3);return e.now.receivedDate3?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate3+"</span>":e.now.deadline3?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline3+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline3+"</span>":"-"}},{title:"階段&#10105;",data:function(e){var t=new Date,a=new Date(e.now.deadline4);return e.now.receivedDate4?'<span><i class="fa-solid fa-sack-dollar"></i> '+e.now.receivedDate4+"</span>":e.now.deadline4?a<t?'<span class="text-danger"><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline4+"</span>":'<span><i class="fa-regular fa-calendar-days"></i> '+e.now.deadline4+"</span>":"-"}},{title:"操作",data:function(e){return e.now.id?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="now_'+e.parkingSpaceId+'" title="修改"><i class="fa-solid fa-wrench"></i></button>':'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="def_'+e.parkingSpaceId+'" title="配置進駐廠商"><i class="fa-regular fa-keyboard"></i></button>'}},{title:"下期",data:function(e){return e.now.id?'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm wide_icon" data-bs-toggle="modal" data-bs-target="#confirmPaymentParkingSpaceModel" data-id="next_'+e.parkingSpaceId+'" title="配置下期進駐廠商"><i class="fa-regular fa-keyboard"></i></button>':""}},{data:"recentMaturityDate",visible:!1}],order:[[10,"asc"],[0,"desc"]],columnDefs:[{targets:[0],responsivePriority:1},{targets:[1],responsivePriority:2},{targets:[2],responsivePriority:3},{searchable:!1,orderable:!1,targets:[8,9,10]},{className:"text-lg-center",targets:[0,4,5,6,7,8,9]},{className:"text-center",targets:[0,1]},{className:"text-nowrap",targets:[0,1,2,4,5,6,7,8,9]},{className:"p-1",targets:[4,5,6,7]}],createdRow:function(t,e,a){[8,9].forEach(function(e){$("td:eq("+e+")",t).css("max-width","70px")}),[0,1,2,4,5,6,7].forEach(function(e){$("td:eq("+e+")",t).css("font-size",".9em")}),$("td:eq(3)",t).css("min-width","150px")}})}),$(function(){$("#receiptCreateSubmit").click(function(e){e.preventDefault(),checkRequiredElements()&&(checkDangerElements()?($("#formReceiptCreate").submit(),swalToastSuccess("收據新增成功，請靜待畫面更新！","top"),setTimeout(function(){location.reload()},2300)):swalToastWarning("請填上正確資料唷！","top"))}),$("#confirmPaymentReceiptModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let t=String(e.data("id"));$("#receipt_updateBtn").off("click"),$("#danger_receiptBox").text("");e=dataset_confirmPaymentReceipt.find(e=>e.id===t);e?($("#receipt_receiptNum").text(e.receiptNum),$("#receipt_receiptDate").text(e.receiptDate),$("#receipt_receiptItem").text(e.item),$("#receipt_receiptAmount").text(e.amount),$("#receipt_companyName").text(e.company),$("#receipt_uniformNum").text(e.uniformNum),$("#receipt_status").text(e.status),$("#receipt_adminNote").text(e.adminNote),$("#receipt_createDate").text(e.createDate),$("#receipt_createBy").text(e.createBy)):console.error("資料找不到ID：",t),"使用中"===e.status?($("#receipt_receiptNum").addClass("changeInputUpperNumber_items"),$("#receipt_receiptDate").addClass("changeDate_items"),$("#receipt_receiptItem, #receipt_companyName, #receipt_adminNote").addClass("changeInput_items"),$("#receipt_receiptAmount").addClass("changeMoney_items"),$("#receipt_uniformNum").addClass("changeUniformNum_items"),$("#receipt_receiptNum, #receipt_receiptDate, #receipt_receiptItem, #receipt_companyName, #receipt_adminNote, #receipt_receiptAmount, #receipt_uniformNum").removeClass("readOnly"),$("#receipt_status").addClass("changeSelectStatus2_items"),CustomInputHandlers.init(),$("#receipt_updateBtn").show()):(CustomInputHandlers.destroy(),$("#receipt_receiptNum").removeClass("changeInputUpperNumber_items"),$("#receipt_receiptDate").removeClass("changeDate_items"),$("#receipt_receiptItem, #receipt_companyName, #receipt_adminNote").removeClass("changeInput_items"),$("#receipt_receiptAmount").removeClass("changeMoney_items"),$("#receipt_uniformNum").removeClass("changeUniformNum_items"),$("#receipt_receiptNum, #receipt_receiptDate, #receipt_receiptItem, #receipt_companyName, #receipt_adminNote, #receipt_receiptAmount, #receipt_uniformNum").addClass("readOnly"),$("#receipt_status").removeClass("changeSelectStatus2_items"),$("#receipt_updateBtn").hide()),$("#receipt_updateBtn").on("click",function(){var e={id:t,receiptNum:$("#receipt_receiptNum").text(),receiptDate:$("#receipt_receiptDate").text(),receiptItem:$("#receipt_receiptItem").text(),amount:$("#receipt_receiptAmount").text(),companyName:$("#receipt_companyName").text(),uniformNum:$("#receipt_uniformNum").text(),status:$("#receipt_status").text(),adminNote:$("#receipt_adminNote").text()};e.receiptNum&&e.receiptDate&&e.receiptItem&&e.amount&&e.companyName&&e.uniformNum?($("#danger_receiptBox").text(""),$.ajax({url:receiptEditUrl,type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){swalToastSuccess(e.message,"top"),setTimeout(function(){location.reload()},2300)},error:function(e,t,a){console.error("Error:",a),swalToastWarning("儲存修改時發生錯誤，請稍後再試。","top")}})):$("#danger_receiptBox").text("請留下完整的資料，才可以儲存修改歐！")})}),$("#confirmPaymentModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let t=String(e.data("id"));$("#payment_updateBtn").off("click"),$("#danger_paymentBox").text(""),$("#payment_items").html("");var a,e=dataset_confirmPaymentAll.find(e=>e.id===t);e?($("#payment_companyName").text(e.company),$("#payment_uniformNum").text(e.uniformNum),"-"!=e.remittanceFile?(a=e.remittanceFile.length,"1"!=e.remittanceFile.substring(a-5,a-4)?$("#payment_downloadRemittanceFile").html(`<a class="d-inline me-3 text-nowrap" href="/download_T/T_${e.id}">下載&ensp;<i class="fa-solid fa-download"></i><span class="mx-1 update">補</span></a>`):$("#payment_downloadRemittanceFile").html(`<a class="d-inline me-3 text-nowrap" href="/download_T/T_${e.id}">下載&ensp;<i class="fa-solid fa-download"></i>`)):$("#payment_downloadRemittanceFile").text("-").addClass("readOnly"),$("#payment_companyEmail").text(e.companyEmail),$("#payment_contactPerson").text(e.contactPerson),$("#payment_companyPhone").text(e.companyPhone),$("#payment_paymentDate").text(e.paymentDate),$("#payment_paymentAmount").text(e.amount),$("#payment_last5AccountNo").text(e.last5AccountNo),e.items.forEach(function(e){e=`
                <li>
                    <span class="text-nowrap text-secondary">${e.type}</span>
                    <span class="text-nowrap">${e.description}</span>
                    <span class="text-nowrap text-danger">${e.amount}</span>
                </li>`;$("#payment_items").append(e)}),$("#gotoEditRemittance").attr("href","/Remittance/Edit/"+e.id),$("#payment_adminNote").text(e.adminNote),$("#payment_status").text(e.status)):console.error("paymentData not found for id:",t),"完成"===e.status||"取消"===e.status?(CustomInputHandlers.destroy(),$("#payment_adminNote").removeClass("changeInput_items"),$("#payment_status").removeClass("changeSelectStatus_items"),$("#payment_adminNote, #payment_status").addClass("readOnly"),$("#payment_updateBtn, #gotoEditRemittance").hide()):($("#payment_adminNote").addClass("changeInput_items"),$("#payment_status").addClass("changeSelectStatus_items"),$("#payment_adminNote, #payment_status").removeClass("readOnly"),CustomInputHandlers.init(),$("#payment_updateBtn, #gotoEditRemittance").show()),$("#payment_updateBtn").on("click",function(){var e={};e.id=t,e.adminNote=$("#payment_adminNote").text(),e.status=$("#payment_status").text(),$.ajax({url:paymentStatusEditUrl,type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){swalToastSuccess(e.message,"top"),setTimeout(function(){$("#confirmPaymentModel").modal("hide"),location.reload()},2300)},error:function(e,t,a){swalToastError("提交失敗，請稍後再試。","top")}})})}),$("#confirmPaymentCultivationModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let a=String(e.data("id")),n="";switch(a.substring(0,4)){case"now_":case"def_":n=a.substring(4);break;default:n=a.substring(5)}console.log("catchId:",a);let i=dataset_confirmPaymentCultivationRoom.find(e=>e.roomId==n),o=["#cultivation_receiptNum1","#cultivation_receiptNum2","#cultivation_receiptNum3","#cultivation_receiptNum4"],d=["#cultivation_deadline1","#cultivation_deadline2","#cultivation_deadline3","#cultivation_deadline4"],l=["#cultivation_label_receiptNum1","#cultivation_label_receiptNum2","#cultivation_label_receiptNum3","#cultivation_label_receiptNum4"],m=["#cultivation_label_deadline1","#cultivation_label_deadline2","#cultivation_label_deadline3","#cultivation_label_deadline4"],p=["#cultivation_label_installmentAmount1","#cultivation_label_installmentAmount2","#cultivation_label_installmentAmount3","#cultivation_label_installmentAmount4"],s=["#cultivation_installmentAmount1","#cultivation_installmentAmount2","#cultivation_installmentAmount3","#cultivation_installmentAmount4"],u="pinkBG",N="grayBG";if($("#cultivation_adminNote").addClass("changeInput_items"),$("#cultivation_startDate, #cultivation_endDate").addClass("changeDate_items"),$("#cultivation_uniformNum").addClass("changeUniformNum_items"),$("#cultivation_squareMeters").addClass("changeDecimal_items"),i){$("#cultivation_building").text(i.building),$("#cultivation_room").text(i.room);let r=null;var t,e=a.startsWith("now_"),c=a.startsWith("next_"),_=(e?r=i.now:c&&(r=i.next),console.log("currentData:",r),r&&r.id?$("#cultivation_deleteData, #cultivation_reminder").removeClass("d-none"):$("#cultivation_deleteData, #cultivation_reminder").addClass("d-none"),$("#cultivation_inputRate").val(r?.amount||i.defaultAmount),$("#cultivation_squareMeters").text(r?.squareMeters||i.defaultSquareMeters),$("#cultivation_startDate").text(r?.startDate||formatDate(new Date((new Date).setDate((new Date).getDate()+1)))),$("#cultivation_endDate").text(r?.endDate||formatDate(new Date((new Date).setFullYear((new Date).getFullYear()+1)))),r?.period||"1"),y=($("#cultivation_selectPeriod").val(_),$("#cultivation_companyName").text(r?.company||""),$("#cultivation_uniformNum").text(r?.uniformNum||""),$("#cultivation_responsiblePerson").text(r?.responsiblePerson||""),$("#cultivation_companyEmail").text(r?.companyEmail||""),$("#cultivation_contactPerson").text(r?.contactPerson||""),$("#cultivation_companyPhone").text(r?.companyPhone||""),$("#cultivation_deadline1").text(r?.deadline1||""),$("#cultivation_deadline2").text(r?.deadline2||""),$("#cultivation_deadline3").text(r?.deadline3||""),$("#cultivation_deadline4").text(r?.deadline4||""),parseFloat($("#cultivation_rate").text().replace(/,/g,"")));if(r)for(let e=1;e<=4;e++)r["receivableAmount"+e]?$("#cultivation_installmentAmount"+e).text(r["receivableAmount"+e]):_>=e&&(t=(12*y/_).toLocaleString(),$("#cultivation_installmentAmount"+e).text(t)),$("#cultivation_receiptNum"+e).text(r["receiptNum"+e]||""),$("#cultivation_receivedDate"+e).text(r["receivedDate"+e]||"");function g(){CustomInputHandlers.destroy();var e=$("#cultivation_selectPeriod").val(),t=parseFloat($("#cultivation_inputRate").val().replace(/,/g,""));if(isNaN(e)||isNaN(t))console.log("Invalid values for period or rate.");else{console.log("Valid values: Period -",e,"Rate -",t),l.forEach((e,t)=>{$(e).removeClass(u).removeClass(N),$(p[t]).removeClass(u).removeClass(N),$(m[t]).removeClass(u).removeClass(N),$(o[t]).removeClass("changeInput_items"),$(s[t]).removeClass("changeMoney_items"),$(d[t]).removeClass("changeDate_items")});{var c=e;let n=12*t,i=0,o=c;s.forEach((e,t)=>{let a=null;r&&r["receivableAmount"+(t+1)]&&(a=parseFloat(r["receivableAmount"+(t+1)].replace(/,/g,""))),!isNaN(a)&&t<c&&null!=a?(null!=a?$(e).text(a.toLocaleString()):$(e).text(""),i+=a,o--):t<c?(t=n-i,t=0<o?t/o:0,$(e).text(t.toLocaleString())):$(e).text("")})}var a=e;for(let e=0;e<a;e++)$(l[e]).addClass(u),$(p[e]).addClass(u),$(m[e]).addClass(u),$(o[e]).addClass("changeInput_items"),$(s[e]).addClass("changeMoney_items"),$(d[e]).addClass("changeDate_items");CustomInputHandlers.init()}}$("#cultivation_adminNote").text(r?.adminNote||""),g(),$("#cultivation_inputRate").on("input",function(){var e=$(this).val().trim();console.log("Rate changed:",e),g()}),$("#cultivation_selectPeriod").on("change",function(){var e=$(this).val();console.log("Period changed:",e),g()})}$("#cultivation_updateBtn").off("click"),$("#cultivation_deleteData").off("click"),$("#cultivation_deleteData").on("click",function(){console.log("使用Id",a);let e="";switch(a.substring(0,4)){case"now_":e=i.now.id;break;case"next":e=i.next.id;break;default:e="add"}$.ajax({url:deleteRoomRecordsUrl,type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){swalToastSuccess(e.message,"top"),setTimeout(function(){location.reload()},2300)},error:function(e,t,a){swalToastWarning("刪除配置紀錄時發生錯誤。","top")}})}),$("#cultivation_updateBtn").on("click",function(){console.log("roomId Btn :",a);let e="";switch(a.substring(0,4)){case"now_":e=i.now.id;break;case"next_":e=i.next.id;break;default:e="add"}var t={roomId:n,id:e,squareMeters:$("#cultivation_squareMeters").text(),amount:$("#cultivation_inputRate").val(),startDate:$("#cultivation_startDate").text(),endDate:$("#cultivation_endDate").text(),period:$("#cultivation_selectPeriod").val(),uniformNum:$("#cultivation_uniformNum").text(),deadline1:$("#cultivation_deadline1").text(),deadline2:$("#cultivation_deadline2").text(),deadline3:$("#cultivation_deadline3").text(),deadline4:$("#cultivation_deadline4").text(),receivableAmount1:$("#cultivation_installmentAmount1").text(),receivableAmount2:$("#cultivation_installmentAmount2").text(),receivableAmount3:$("#cultivation_installmentAmount3").text(),receivableAmount4:$("#cultivation_installmentAmount4").text(),receiptNum1:$("#cultivation_receiptNum1").text(),receiptNum2:$("#cultivation_receiptNum2").text(),receiptNum3:$("#cultivation_receiptNum3").text(),receiptNum4:$("#cultivation_receiptNum4").text(),adminNote:$("#receipt_adminNote").text()};console.log("roomUpdatedData:",t),t.startDate&&t.endDate&&t.period&&t.uniformNum&&t.deadline1&&t.receivableAmount1&&t.amount?($("#danger_roomBox").text(""),$.ajax({url:editRoomRecordsUrl,type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(e){console.log("更新成功:",e),swalToastSuccess(e.message,"top"),setTimeout(function(){location.reload()},2300)},error:function(e,t,a){console.error("更新失敗:",a),swalToastWarning("刪除配置紀錄時發生錯誤。","top")}})):$("#danger_roomBox").text("請留下完整的資料，才可以儲存修改歐！")})}),$("#confirmPaymentParkingSpaceModel").on("show.bs.modal",function(e){$("#parkingSapce_receiptNum1, #parkingSapce_receiptNum2, #parkingSapce_receiptNum3, #parkingSapce_receiptNum4, #parkingSapce_adminNote").addClass("changeInput_items"),$("#parkingSapce_startDate, #parkingSapce_endDate, #parkingSapce_deadline1, #parkingSapce_deadline2, #parkingSapce_deadline3, #parkingSapce_deadline4").addClass("changeDate_items"),$("#parkingSapce_rate").addClass("changeMoney_items"),$("#parkingSapce_licensePlateNum").addClass("changeInputUpperNumberHyphen_items"),CustomInputHandlers.init();var e=$(e.relatedTarget);let t=String(e.data("id"));console.log("parkingSpaceId 1 :",t),t.endsWith("_N")?(psId_N=t.slice(0,-2),(e=dataset_confirmPaymentParkingSpace.find(e=>e.psId===psId_N))?($("#parkingSapce_deleteData, #parkingSapce_reminder").addClass("d-none"),$("#parkingSapce_building").text(e.building),$("#parkingSapce_parkingSpaceNum").text(e.parkingSpaceNum),$("#parkingSapce_carType").text(e.carType),$("#parkingSapce_startDate").text(""),$("#parkingSapce_endDate").text(""),$("#parkingSapce_rate").text(e.amount),$("#parkingSapce_companyName").text(""),$("#parkingSapce_uniformNum").text(""),$("#parkingSapce_licensePlateNum").text(""),$("#parkingSapce_email").text(""),$("#parkingSapce_phone").text(""),$("#parkingSapce_applicant").text(""),$("#parkingSapce_deadline1").text(""),$("#parkingSapce_deadline2").text(""),$("#parkingSapce_deadline3").text(""),$("#parkingSapce_deadline4").text(""),$("#parkingSapce_receiptNum1").text(""),$("#parkingSapce_receiptNum2").text(""),$("#parkingSapce_receiptNum3").text(""),$("#parkingSapce_receiptNum4").text(""),$("#parkingSapce_receivedDate1").text(""),$("#parkingSapce_receivedDate2").text(""),$("#parkingSapce_receivedDate3").text(""),$("#parkingSapce_receivedDate4").text(""),$("#parkingSapce_adminNote").text("")):console.error("openRoomData data not found for id:",psId_N)):(e=dataset_confirmPaymentParkingSpace.find(e=>e.parkingSpaceId===t))?($("#parkingSapce_deleteData, #parkingSapce_reminder").removeClass("d-none"),$("#parkingSapce_building").text(e.building),$("#parkingSapce_parkingSpaceNum").text(e.parkingSpaceNum),$("#parkingSapce_carType").text(e.carType),$("#parkingSapce_startDate").text(e.startDate),$("#parkingSapce_endDate").text(e.endDate),$("#parkingSapce_rate").text(e.amount),$("#parkingSapce_companyName").text(e.company),$("#parkingSapce_uniformNum").text(e.uniformNum),$("#parkingSapce_licensePlateNum").text(e.licensePlateNum),$("#parkingSapce_email").text(e.email),$("#parkingSapce_phone").text(e.phone),$("#parkingSapce_applicant").text(e.applicant),$("#parkingSapce_deadline1").text(e.deadline1),$("#parkingSapce_deadline2").text(e.deadline2),$("#parkingSapce_deadline3").text(e.deadline3),$("#parkingSapce_deadline4").text(e.deadline4),$("#parkingSapce_receiptNum1").text(e.receiptNum1),$("#parkingSapce_receiptNum2").text(e.receiptNum2),$("#parkingSapce_receiptNum3").text(e.receiptNum3),$("#parkingSapce_receiptNum4").text(e.receiptNum4),$("#parkingSapce_receivedDate1").text(e.receivedDate1),$("#parkingSapce_receivedDate2").text(e.receivedDate2),$("#parkingSapce_receivedDate3").text(e.receivedDate3),$("#parkingSapce_receivedDate4").text(e.receivedDate4),$("#parkingSapce_adminNote").text(e.adminNote)):console.error("openRoomData data not found for id:",parkingSpaceId),$("#parkingSapce_updateBtn").off("click"),$("#parkingSapce_updateBtn").on("click",function(){console.log("psId 2 :",t),(updatedData={}).id=t,updatedData.contactPerson=$("#cultivation_squareMeters").text(),updatedData.startDate=$("#parkingSapce_startDate").text(),updatedData.endDate=$("#parkingSapce_endDate").text(),updatedData.amount=$("#parkingSapce_rate").text(),updatedData.licensePlateNum=$("#parkingSapce_licensePlateNum").text(),updatedData.deadline1=$("#parkingSapce_deadline1").text(),updatedData.deadline2=$("#parkingSapce_deadline2").text(),updatedData.deadline3=$("#parkingSapce_deadline3").text(),updatedData.deadline4=$("#parkingSapce_deadline4").text(),updatedData.receiptNum1=$("#parkingSapce_receiptNum1").text(),updatedData.receiptNum2=$("#parkingSapce_receiptNum2").text(),updatedData.receiptNum3=$("#parkingSapce_receiptNum3").text(),updatedData.receiptNum4=$("#parkingSapce_receiptNum4").text(),updatedData.adminNote=$("#parkingSapce_adminNote").text(),console.log(updatedData)}),$("#parkingSapce_deleteData").off("click"),$("#parkingSapce_deleteData").on("click",function(){(deleteData={}).id=t,swalConfirm("確定要刪除嗎？","是啊，這個沒用了...","不要阿 ~ 我是誤按！！",function(){console.log(deleteData)})})})}),$(function(){var a=$("#confirmPaymentReceiptList").DataTable(),n=$("#confirmPaymentAllList").DataTable(),i=$("#confirmPaymentCultivationRoomList").DataTable(),o=$("#confirmPaymentParkingSpaceList").DataTable();$('button[data-bs-toggle="pill"]').on("shown.bs.tab",function(e){var t;switch($(e.target).data("bs-target")){case'#pills-one"':t=a;break;case"#pills-two":t=n;break;case"#pills-three":t=i;break;case"#pills-four":t=o}t&&setTimeout(function(){t.columns.adjust().responsive.recalc()},30)})}),$(function(){function e(){var e;switch($("#type").val()){case"識別證":e=idCardData;break;case"機車位":e=parkingSpaceMotoData;break;case"汽車位":e=parkingSpaceCarData;break;case"培育室":e=roomData}$("#typeahead_itemNum").typeahead("destroy"),$("#typeahead_itemNum").typeahead({source:e})}$("#typeahead_company, #typeahead_receiptCompanyAdd").typeahead({source:companyData}),$("#type").change(e),e()});