var dataset_parkingSpaceApp=[{createDate:"2024-07-01",company:"超級棒股份有限公司",name:"孫小美",carType:"汽車",licensePlateNum:"8866-AB",endDate:"2024-08-30",receivedDate:"2024-06-01",status:"不通過",id:"1",building:"新德惠大樓",parkingSpaceNum:"B1-01",uniformNum:"12345678",phone:"02-81234567",idNumber:"A1234567890",ext:"1234",email:"sunxiaomei@example.com",amount:"4,000",jobTitle:"財務經理",adminNote:"兩個車位",wantStartDate:"2024-06-30",startDate:"2024-07-01"},{createDate:"2024-06-30",company:"超級棒股份有限公司",name:"孫中美",carType:"機車",licensePlateNum:"3GR-123",endDate:"2024-08-30",receivedDate:"2024-01-01",status:"待補件",id:"2",building:"新德惠大樓",parkingSpaceNum:"B3-01",uniformNum:"23456789",phone:"0912-345678",idNumber:"B0987654321",ext:"5678",email:"sunzhongmei@example.com",amount:"3,500",jobTitle:"業務專員",adminNote:"老是拖款",wantStartDate:"2024-07-30",startDate:"2024-08-01"},{createDate:"2024-07-15",company:"最佳有限公司",name:"李大仁",carType:"汽車",licensePlateNum:"1234-CD",endDate:"2024-09-15",receivedDate:"2024-06-10",status:"待審核",id:"3",building:"新德惠大樓",parkingSpaceNum:"B2-05",uniformNum:"34567890",phone:"02-83456789",idNumber:"C2345678901",ext:"2345",email:"lidanren@example.com",amount:"3,800",jobTitle:"技術主管",adminNote:"要主動提醒",wantStartDate:"2024-08-30",startDate:"2024-09-01"},{createDate:"2024-07-10",company:"快樂企業股份有限公司",name:"王小明",carType:"機車",licensePlateNum:"5XY-678",endDate:"2024-09-10",receivedDate:"2024-05-01",status:"待補件",id:"4",building:"新德惠大樓",parkingSpaceNum:"B4-02",uniformNum:"45678901",phone:"0913-456789",idNumber:"D3456789012",ext:"3456",email:"wangxiaoming@example.com",amount:"3,200",jobTitle:"客服經理",adminNote:"",wantStartDate:"2024-07-10",startDate:"2024-07-11"},{createDate:"2024-07-20",company:"幸福股份有限公司",name:"陳美麗",carType:"汽車",licensePlateNum:"5678-EF",endDate:"2024-09-20",receivedDate:"2024-06-05",status:"待審核",id:"5",building:"新德惠大樓",parkingSpaceNum:"B5-01",uniformNum:"56789012",phone:"02-87654321",idNumber:"E4567890123",ext:"4567",email:"chenmeili@example.com",amount:"3,700",jobTitle:"行銷主管",adminNote:"弄錯了",wantStartDate:"2024-07-20",startDate:"2024-07-25"},{createDate:"2024-06-25",company:"優秀有限公司",name:"張偉",carType:"機車",licensePlateNum:"6AB-456",endDate:"2024-08-25",receivedDate:"2024-05-01",status:"通過",id:"6",building:"新德惠大樓",parkingSpaceNum:"B6-03",uniformNum:"67890123",phone:"0914-567890",idNumber:"F5678901234",ext:"5678",email:"zhangwei@example.com",amount:"3,100",jobTitle:"產品經理",adminNote:"要求很多所以收比較貴",wantStartDate:"2024-07-14",startDate:"2024-07-14"},{createDate:"2024-06-20",company:"卓越股份有限公司",name:"黃小虎",carType:"汽車",licensePlateNum:"7890-GH",endDate:"2024-08-20",receivedDate:"2024-05-01",status:"不通過",id:"7",building:"新德惠大樓",parkingSpaceNum:"B7-04",uniformNum:"78901234",phone:"02-76543210",idNumber:"G6789012345",ext:"6789",email:"huangxiaohu@example.com",amount:"3,600",jobTitle:"行政助理",adminNote:"優良公司",wantStartDate:"2024-07-12",startDate:"2024-07-12"},{createDate:"2024-07-05",company:"智慧科技有限公司",name:"吳小華",carType:"汽車",licensePlateNum:"8901-IJ",endDate:"2024-09-05",receivedDate:"2024-06-01",status:"通過",id:"8",building:"新德惠大樓",parkingSpaceNum:"B8-02",uniformNum:"89012345",phone:"02-78901234",idNumber:"H7890123456",ext:"7890",email:"wuxiaohua@example.com",amount:"3,900",jobTitle:"研發工程師",adminNote:"會亂停車",wantStartDate:"2024-07-17",startDate:"2024-07-17"},{createDate:"2024-06-28",company:"永續發展股份有限公司",name:"葉大勇",carType:"機車",licensePlateNum:"9JK-789",endDate:"2024-08-28",receivedDate:"2024-05-01",status:"不通過",id:"9",building:"新德惠大樓",parkingSpaceNum:"B9-03",uniformNum:"90123456",phone:"0915-678901",idNumber:"I8901234567",ext:"8901",email:"yedayong@example.com",amount:"3,400",jobTitle:"人力資源經理",adminNote:"",wantStartDate:"2024-07-10",startDate:"2024-07-15"},{createDate:"2024-07-12",company:"環保綠能有限公司",name:"趙明志",carType:"汽車",licensePlateNum:"0123-KL",endDate:"2024-09-12",receivedDate:"2024-06-01",status:"通過",id:"10",building:"新德惠大樓",parkingSpaceNum:"B10-01",uniformNum:"01234567",phone:"02-89012345",idNumber:"J9012345678",ext:"9012",email:"zhaomingzhi@example.com",amount:"3,500",jobTitle:"客戶經理",adminNote:"",wantStartDate:"2024-07-26",startDate:"2024-07-26"},{createDate:"2024-07-01",company:"創意科技有限公司",name:"林小偉",carType:"機車",licensePlateNum:"1LM-234",endDate:"2024-08-01",receivedDate:"2024-05-01",status:"待審核",id:"11",building:"新德惠大樓",parkingSpaceNum:"B11-02",uniformNum:"12345679",phone:"0916-789012",idNumber:"K0123456789",ext:"1234",email:"linxiaowei@example.com",amount:"3,200",jobTitle:"市場專員",adminNote:"共用車位",wantStartDate:"2024-07-24",startDate:"2024-07-24"},{createDate:"2024-07-03",company:"健康醫療有限公司",name:"劉小玲",carType:"汽車",licensePlateNum:"3456-MN",endDate:"2024-09-03",receivedDate:"2024-06-01",status:"通過",id:"12",building:"新德惠大樓",parkingSpaceNum:"B12-01",uniformNum:"23456780",phone:"02-90123456",idNumber:"L1234567890",ext:"2345",email:"liuxiaoling@example.com",amount:"3,700",jobTitle:"財務分析師",adminNote:"",wantStartDate:"2024-07-17",startDate:"2024-07-17"}];$(function(){$("#parkingSpaceApplicationList").DataTable({...commonSettingsTable,data:dataset_parkingSpaceApp,columns:[{data:"createDate",title:"申請日期"},{data:"company",title:"承租人企業"},{data:"carType",title:"車位類型"},{data:"licensePlateNum",title:"車牌號碼"},{data:"name",title:"申請人"},{data:"wantStartDate",title:"預計起租日"},{data:"status",title:"審核進度"},{data:"id",title:"檢閱",render:function(e){return'<button type="button" class="btn btn-outline-primary rounded-circle btn-sm" data-bs-toggle="modal" data-bs-target="#parkingSpaceDetailModel" data-id="'+e+'"><i class="fa-solid fa-paperclip"></i></button>'},className:"text-center text-nowrap"}],columnDefs:[{targets:[1],responsivePriority:1},{targets:[2],responsivePriority:2},{targets:[4],responsivePriority:3},{searchable:!1,orderable:!1,targets:[7]},{className:"text-center",targets:[0,2,3,4,5]},{className:"text-nowrap",targets:[0,2,3,4,5]}],createdRow:function(a,e,t){$("td:eq(7)",a).css("min-width","70px"),[0,5].forEach(function(e){$("td:eq("+e+")",a).css("min-width","130px").css("font-size",".9em")})}}),$("#parkingSpaceDetailModel").on("show.bs.modal",function(e){e=$(e.relatedTarget);let a=String(e.data("id"));$("#updateBtn").off("click");e=dataset_parkingSpaceApp.find(e=>e.id===a);e?($("#psApp_companyName").text(e.company),$("#psApp_uniformNum").text(e.uniformNum),$("#psApp_createDate").text(e.createDate),$("#psApp_name").text(e.name),$("#psApp_phoneNum").text(e.phone),$("#psApp_ext").text(e.ext),$("#psApp_idNumber").text(e.idNumber),$("#psApp_email").text(e.email),$("#psApp_jobTitle").text(e.jobTitle),$("#psApp_carType").text(e.carType),$("#psApp_licensePlateNum").text(e.licensePlateNum),$("#psApp_wantStartDate").text(e.wantStartDate),$("#psApp_building").text(e.building),$("#psApp_parkingSpaceNum").text(e.parkingSpaceNum),$("#psApp_startDate").text(e.startDate),$("#psApp_adminNote").text(e.adminNote),$("#psApp_status").val(e.status)):console.error("parkingSpaceData data not found for id:",a),"通過"===e.status||"不通過"===e.status?($(".changeInput_items").off("click"),$(".changeNumber_items").off("click"),$(".changeDate_items").off("click"),$(".changeMoney_items").off("click"),$(".changePhone_items").off("click"),$(".changeEmail_items").off("click"),$(".changeRadio_items").off("click"),$(".changeSelect_items").off("click"),$("#psApp_name, #psApp_jobTitle, #psApp_adminNote").removeClass("changeInput_items"),$("#psApp_ext").removeClass("changeUniformNum_items"),$("#psApp_phoneNum").removeClass("changePhone_items"),$("#psApp_email").removeClass("changeEmail_items"),$("#psApp_idNumber").removeClass("changeInputUpperNumber_items"),$("#psApp_carType").removeClass("changeRadioCar_items"),$("#psApp_licensePlateNum").removeClass("changeInputUpperNumberHyphen_items"),$("#psApp_wantStartDate").removeClass("changeDate_items"),$("#psApp_name, #psApp_jobTitle, #psApp_adminNote, #psApp_ext, #psApp_phoneNum, #psApp_email, #psApp_idNumber, #psApp_carType, #psApp_licensePlateNum, #psApp_wantStartDate").addClass("readOnly"),$("#psApp_updateBtn").hide(),$("#psApp_supplementaryFilesBox").hide(),$("#psApp_status").hide(),$("#psApp_statusText").show().text(e.status)):($("#psApp_name, #psApp_jobTitle, #psApp_adminNote").addClass("changeInput_items"),$("#psApp_ext").addClass("changeUniformNum_items"),$("#psApp_phoneNum").addClass("changePhone_items"),$("#psApp_email").addClass("changeEmail_items"),$("#psApp_idNumber").addClass("changeInputUpperNumber_items"),$("#psApp_carType").addClass("changeRadioCar_items"),$("#psApp_licensePlateNum").addClass("changeInputUpperNumberHyphen_items"),$("#psApp_wantStartDate").addClass("changeDate_items"),CustomInputHandlers.init(),$("#updateBtn").show(),$("#supplementaryFilesBox").show(),$("#status").show(),$("#statusText").hide()),$("#updateBtn").on("click",function(){(updatedData={}).id=a,updatedData.companyName=$("#companyName").text(),updatedData.uniformNum=$("#uniformNum").text(),updatedData.createDate=$("#createDate").text(),updatedData.name=$("#name").text(),updatedData.phoneNum=$("#phoneNum").text(),updatedData.ext=$("#ext").text(),updatedData.idNumber=$("#idNumber").text(),updatedData.email=$("#email").text(),updatedData.jobTitle=$("#jobTitle").text(),updatedData.carType=$("#carType").text(),updatedData.adminNote=$("#adminNote").text(),updatedData.status=$("#status").val(),console.log(updatedData)})})});