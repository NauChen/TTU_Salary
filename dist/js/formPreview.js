function syncInputValue(e,t){$("#"+e).on("blur",function(){var e=$(this).val();$("#"+t).text(e)})}function syncInputDate(e,i,a,o){var t,n,c;"toDay"===e?(t=new Date,n=(t=t).getFullYear(),c=String(t.getMonth()+1).padStart(2,"0"),t=String(t.getDate()).padStart(2,"0"),$("#"+i).text(n),$("#"+a).text(c),$("#"+o).text(t)):$("#"+e).on("blur",function(){var e,t,n=$(this).val();n?(e=(n=n.split("-"))[0],t=n[1],n=n[2],$("#"+i).text(e),$("#"+a).text(t),$("#"+o).text(n)):console.error("The date input is empty or invalid.")})}function syncSelectValue(e,t,n){$("#"+e).on("blur change",function(){var e=$(this).find("option:selected").val();e?(e=e.split("|"),$("#"+t).text(e[0]),$("#"+n).text(e[1])):($("#"+t).text(""),$("#"+n).text(""))})}function syncInputRadio(e,t,n,i){function a(){$("#"+e).is(":checked")?($("#"+n).html("&#9745;"),$("#"+i).html("&#9744;")):$("#"+t).is(":checked")&&($("#"+n).html("&#9744;"),$("#"+i).html("&#9745;"))}$("#"+e+", #"+t).on("change",a),a()}function syncInputRadioYesValue(e,t,n,i,a,o){function c(){$("#"+e).is(":checked")?($("#"+n).html("&#9745;"),$("#"+i).html("&#9744;"),$("#"+a).prop("disabled",!1).addClass("thisRequired"),syncInputValue(a,o)):$("#"+t).is(":checked")&&($("#"+n).html("&#9744;"),$("#"+i).html("&#9745;"),$("#"+a).prop("disabled",!0).val("").removeClass("thisRequired"),$("#danger_"+a).text(""),$("#"+o).html(""))}$("#"+e+", #"+t).on("change",c),c()}function syncInputRadioNoValue(e,t,n,i,a,o){function c(){$("#"+e).is(":checked")?($("#"+n).html("&#9745;"),$("#"+i).html("&#9744;"),$("#"+a).prop("disabled",!0).val("").removeClass("thisRequired"),$("#danger_"+a).text(""),$("#"+o).html("")):$("#"+t).is(":checked")&&($("#"+n).html("&#9744;"),$("#"+i).html("&#9745;"),$("#"+a).prop("disabled",!1).addClass("thisRequired"),syncInputValue(a,o))}$("#"+e+", #"+t).on("change",c),c()}function syncInputCheckbox(e,t){$("#"+e).on("change",function(){$("#"+e).is(":checked")?$("#"+t).html("&#9745;"):$("#"+t).html("&#9744;")})}function syncNumberWithCommas(e,t){$("#"+e).on("blur",function(){var e=$(this).val();e&&(e=Number(e).toLocaleString("en"),$("#"+t).text(e))})}function openFile(e){var e=e.target,t=new FileReader;t.readAsDataURL(e.files[0]),t.onload=function(){var e=t.result;$("#output_img").attr("src",e).show(),$("#output_text").attr("src",e).hide()}}$(document).on("click","#printAndSubmit",function(){var e=$("section"),t=$("#printWrapper").detach();e.append(t),window.print(),e.empty(),$("#returnThisBox").append(t)}),$(function(){var i=$("#croppie-container"),a=($("#croppie-container").hide(),$("#crop_img").hide(),$("#warning_parkingSpaceImg").hide(),null),n=null;function e(e,t,n){$("#croppie-container").show(),a=a||new Croppie(i[0],{viewport:{width:t,height:n,type:"square"},boundary:{width:500,height:400},enableResize:!1,enableOrientation:!0});t=new FileReader;t.onload=function(e){a.bind({url:e.target.result})},t.readAsDataURL(e.files[0])}function t(){a&&(a.destroy(),a=null),i.hide(),$("#crop_img").hide(),$("#newImg").html(""),$("#car_upload_label").show(),$("#bike_upload_label").show(),$("#parkingSpaceType").val(""),$("#danger_parkingSpaceImg").html("&ensp;&#10551;上傳行照內頁後，請點擊裁剪圖片。"),$("#warning_parkingSpaceImg").hide()}$("#upload_car_img").on("change",function(){n="car",t(),e(this,480,306),$("#bike_upload_label").hide(),$("#car_upload_label").show(),$("#parkingSpaceType").val("汽車"),$("#crop_img").show()}),$("#upload_moto_img").on("change",function(){n="bike",t(),e(this,240,306),$("#car_upload_label").hide(),$("#bike_upload_label").show(),$("#parkingSpaceType").val("機車"),$("#crop_img").show()}),$("#crop_img").on("click",function(e){e.preventDefault();e="car"===n?480:240;a.result({type:"canvas",size:{width:e,height:306},format:"jpeg",quality:.85}).then(function(e){var t=n;t="car"===n?"80%":"40%",$("#newImg").html('<img src="'+e+'" class="img-thumbnail" style="width: '+t+';">'),$("#danger_parkingSpaceImg").text(""),$("#warning_parkingSpaceImg").show()})}),$("#resetPSFormBtn").on("click",function(){t()})});