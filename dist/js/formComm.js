function validSomeRequiredForm(e,t){$("#"+e).on("click",function(){var e=!0;$("#"+t+" .thisRequired").each(function(){if($(this).is("select")){if(null===$(this).val())return e=!1}else if(""===$(this).val().trim())return e=!1}),e?$("#"+t).submit():swalToastWarning("請將必填欄位填上。","top")})}function validAllRequiredForm(e,t){$("#"+e).on("click",function(){var e=!0;$("#"+t+" .thisRequired").each(function(){if($(this).is("select")){if(null===$(this).val())return e=!1}else if(""===$(this).val().trim())return e=!1}),e?(console.log("所有欄位都已填寫，可以提交表單。"),$("#"+t).submit()):swalToastWarning("請將所有欄位填上。","top")})}function validAllRequiredFormPreview(e,t,n){var i=!0;return $("#"+t+" .thisRequired").each(function(){if($(this).is("select")){if(null===$(this).val())return i=!1}else if($(this).is('input[type="file"]')){if(0===$(this).get(0).files.length)return i=!1}else if(""===$(this).val().trim())return i=!1}),i?$("#"+e).attr("data-bs-toggle","modal").attr("data-bs-target","#"+n):(swalToastWarning("請將所有欄位填上。","top"),$("#"+e).removeAttr("data-bs-toggle").removeAttr("data-bs-target")),i}function checkDangerElements(e,t){var n=!0;return $('[id^="danger_"]').each(function(){if(""!==$(this).text().trim())return n=!1}),n||$("#"+e).removeAttr("data-bs-toggle").removeAttr("data-bs-target"),n}function convertNewlinesToBreaks(e){return e.replace(/\n/g,"<br>")}function convertBreaksToNewlines(e){return e.replace(/<br\s*[\/]?>/gi,"\n").trim()}function verifyPhone(e){$(e).val($(e).val().replace(/[^\d-]/g,""))}function verifyEmail(e){$(e).val($(e).val().replace(/[^a-zA-Z0-9._@-]/g,""))}function restrictToNum(e){var t=$(e).val().replace(/\D/g,"");t.startsWith("0")&&(t=t.replace(/^0+/,"")),$(e).val(t)}function formatNumber(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function unformatNumber(e){return e.replace(/,/g,"")}function handleSalaryChoose(e){switch(e){case"時薪":case"日薪":theseAddClass(["choose"],["dollarsItem"]),theseRemoveClass(["choose"],["dollarsToDollarsItem","moreThenDollarsItem","negotiableItem","dollarsPerCaseItem"]),document.getElementById("salaryTypeRadio1").checked=!0,theseRemoveClass(["thisRequired"],["dollarsToDollars_1Input","dollarsToDollars_2Input","moreThenDollarsInput","negotiableInput","dollarsPerCaseInput"]),theseAddClass(["thisRequired"],["dollarsInput"]);break;case"月薪":theseAddClass(["choose"],["dollarsItem","dollarsToDollarsItem","moreThenDollarsItem","negotiableItem"]),theseRemoveClass(["choose"],["dollarsPerCaseItem"]),document.getElementById("salaryTypeRadio1").checked=!0,theseRemoveClass(["thisRequired"],["dollarsToDollars_1Input","dollarsToDollars_2Input","moreThenDollarsInput","negotiableInput","dollarsPerCaseInput"]),theseAddClass(["thisRequired"],["dollarsInput"]);break;case"按件計酬":theseAddClass(["choose"],["dollarsPerCaseItem"]),theseRemoveClass(["choose"],["dollarsItem","dollarsToDollarsItem","moreThenDollarsItem","negotiableItem"]),document.getElementById("salaryTypeRadio5").checked=!0;break;case"請選擇":theseRemoveClass(["choose"],["dollarsItem","dollarsToDollarsItem","moreThenDollarsItem","negotiableItem","dollarsPerCaseItem"]),document.getElementById("salaryTypeRadio1","salaryTypeRadio2","salaryTypeRadio3","salaryTypeRadio4","salaryTypeRadio5").checked=!1,theseRemoveClass(["thisRequired"],["dollarsInput","dollarsToDollars_1Input","dollarsToDollars_2Input","moreThenDollarsInput","negotiableInput"]),theseAddClass(["thisRequired"],["dollarsPerCaseInput"])}}function combineInputs(){var e;document.getElementById("optionsRadios2").checked&&(e=document.querySelector(".combineInputs:nth-child(1)").value+"~"+document.querySelector(".combineInputs:nth-child(2)").value,document.querySelector('[name="JobSalaryData"]').value=e)}function validatePhone(e){return/^\d{2,4}-\d{6,8}$/.test(e)}function checkThisPhone(){var e=$(this),t=e.attr("id"),t=$("#danger_"+t);validatePhone(e.val())?t.text(""):t.text("電話/手機 的格式不正確，請依正確的格式輸入：區碼-電話號碼 或 09XX-XXXXXX")}function restrictEndDate(e,t){$("#"+e).on("change",function(){var e=$(this).val();$("#"+t).attr("min",e)})}function splitJobTime(e){e=e.split(" ~ ");if(2===e.length)return{jobTime1:e[0].trim(),jobTime2:e[1].trim()};throw new Error("Invalid jobTime format. It should be in the format 'HH:mm ~ HH:mm'.")}function convertEmail(e){var t=e.indexOf("@");return-1!==t?e.substring(0,t).toLowerCase()+e.substring(t):e}function validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function isValidLineID(e){return/^[a-zA-Z0-9.@_-]+$/.test(e)}function validateRequiredFields(){var t=!0;return $(".thisRequired").each(function(){var e=$(this).attr("type");return!("text"!==e&&"email"!==e&&"file"!==e&&"date"!==e&&"time"!==e||$(this).val())||$(this).is("textarea")&&!$(this).val()||$(this).is("select")&&!$(this).val()?t=!1:void 0}),t}function validatePhoneNumbers(){var t=/^\d{2,4}-\d{6,8}$/,n=!0;return $(".thisPhoneNum").each(function(){var e;if(!t.test($(this).val()))return e=$(this).attr("id"),$("#danger_"+e).text("電話/手機的格式不正確，請依正確的格式輸入：區碼-電話號碼 或 09XX-XXXXXX"),n=!1}),n}function validateEmails(){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,t=!0;return $(".thisEmail").each(function(){if(!e.test($(this).val()))return t=!1}),t}function toggleBuildingOptions(e,t,n,i){let a=$("#"+e),l=$("#"+t),o=$("#"+n),r=$("#"+i);function s(){a.is(":checked")?(o.show(),r.hide()):l.is(":checked")&&(o.hide(),r.show())}s(),a.on("change",s),l.on("change",s)}var CustomInputHandlers={init:function(){this.bindChangeInputItems(),this.bindChangeRadioItems(),this.bindChangeDateItems(),this.bindChangeMoneyItems(),this.bindChangeTextareaItems(),this.bindChangeNumberItems(),this.bindChangePhoneItems(),this.bindChangeEmailItems(),this.bindChangeLineIDItems(),this.bindChangeSelectItems(),this.bindChangeRadioApplyItems()},bindChangeInputItems:function(){$(".changeInput_items").on("click",function(){var t,n=$(this),e=n.text().trim();0===n.find("input").length&&(t=$('<input type="text" class="form-control" />').val(e),n.html(t),t.focus().select(),t.on("blur",function(){var e=t.val().trim();n.text(e)}),t.on("keypress",function(e){13===e.which&&(e=t.val().trim(),n.text(e))}))})},bindChangeRadioItems:function(){$(".changeRadio_items").on("click",function(){var t=$(this),e=t.text().trim();0===t.find('input[type="radio"]').length&&(t.html(`
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="parkingType" id="car" value="汽車" ${"汽車"===e?"checked":""}>
                        <label class="form-check-label" for="car">汽車</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="parkingType" id="moto" value="機車" ${"機車"===e?"checked":""}>
                        <label class="form-check-label" for="moto">機車</label>
                    </div>`),t.find('input[type="radio"]').on("change",function(){var e=$(this).val().trim();t.html(e)}),$(document).on("click",function(e){t.is(e.target)||0!==t.has(e.target).length||((e=t.find('input[type="radio"]:checked')).length&&(e=e.val().trim(),t.html(e)),$(document).off("click"))}))})},bindChangeRadioApplyItems:function(){$(".changeRadioApply_items").on("click",function(){var t=$(this),e=t.text().trim();0===t.find('input[type="radio"]').length&&(t.html(`
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="applyType" id="radioYes" value="申請" ${"申請"===e?"checked":""}>
                        <label class="form-check-label" for="radioYes">申請</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="applyType" id="radioNo" value="不申請" ${"不申請"===e?"checked":""}>
                        <label class="form-check-label" for="radioNo">不申請</label>
                    </div>`),t.find('input[type="radio"]').on("change",function(){var e=$(this).val().trim();t.html(e)}),$(document).on("click",function(e){t.is(e.target)||0!==t.has(e.target).length||((e=t.find('input[type="radio"]:checked')).length&&(e=e.val().trim(),t.html(e)),$(document).off("click"))}))})},bindChangeDateItems:function(){$(".changeDate_items").on("click",function(){var t,n=$(this),i=n.text().trim();0===n.find('input[type="date"]').length&&(t=$('<input type="date" class="form-control" />').val(i),n.html(t),t.focus(),t.on("blur",function(){var e=t.val().trim();e?n.text(e):n.text(i)}),t.on("keypress",function(e){13===e.which&&((e=t.val().trim())?n.text(e):n.text(i),t.blur())}))})},bindChangeMoneyItems:function(){$(".changeMoney_items").on("click",function(){var t,n=$(this),i=unformatNumber(n.text().trim());0===n.find("input").length&&(t=$('<input type="text" class="form-control" />').val(i),n.html(t),t.focus().select(),t.on("input",function(){this.value=this.value.replace(/[^0-9]/g,"")}),t.on("blur",function(){var e=formatNumber(t.val().trim());e?n.text(e):n.text(formatNumber(i))}),t.on("keypress",function(e){13===e.which&&((e=formatNumber(t.val().trim()))?n.text(e):n.text(formatNumber(i)),t.blur())}))})},bindChangeTextareaItems:function(){$(".changeTextarea_lg_items").on("click",function(){var t,n=$(this),e=n.html().replace(/<br\s*[\/]?>/gi,"\n").trim();0===n.find("textarea").length&&(t=$('<textarea class="form-control textarea-lg" rows="5"></textarea>').val(e),n.html(t),t.focus().select(),t.on("blur",function(){var e=t.val().trim().replace(/\n/g,"<br>");n.html(e)}),t.on("keydown",function(e){"Enter"===e.key&&e.ctrlKey&&(e=t.val().trim().replace(/\n/g,"<br>"),n.html(e),t.blur())}))})},bindChangeNumberItems:function(){$(".changeNumber_items").on("click",function(){var t,n=$(this),e=n.text().trim();0===n.find("input").length&&(t=$('<input type="text" class="form-control" />').val(e),n.html(t),t.focus().select(),t.on("input",function(){this.value=this.value.replace(/[^0-9]/g,"")}),t.on("blur",function(){var e=t.val().trim();n.text(e)}))})},bindChangePhoneItems:function(){$(".changePhone_items").on("click",function(){var t,n=$(this),i=n.text().trim();0===n.find("input").length&&(t=$('<input type="text" class="form-control" onkeyup="verifyPhone(this)">').val(i),n.html(t),t.focus().select(),t.on("blur",function(){var e=t.val().trim();validatePhone(e)?n.text(e):(n.text(i),swalToastWarning("電話格式不正確，請輸入正確的格式：區碼-電話號碼 或 09XX-XXXXXX","top"))}))})},bindChangeEmailItems:function(){$(".changeEmail_items").on("click",function(){var t,n=$(this),i=n.text().trim();0===n.find("input").length&&(t=$('<input type="email" class="form-control" onkeyup="verifyEmail(this)">').val(i),n.html(t),t.focus().select(),t.on("blur",function(){var e=t.val().trim();validateEmail(e=CconvertEmail(e))?n.text(e):(n.text(i),swalToastWarning("請輸入有效的電子郵件地址！","top"))}))})},bindChangeLineIDItems:function(){$(".changeLineID_items").on("click",function(){var t,n=$(this),i=n.text().trim();0===n.find("input").length&&(t=$('<input type="text" class="form-control" onkeyup="verifyEmail(this)">').val(i),n.html(t),t.focus().select(),t.on("blur",function(){var e=t.val().trim();isValidLineID(e)?n.text(e):(n.text(i),swalToastWarning("請輸入有效的LINE ID！","top"))}))})},bindChangeSelectItems:function(){$(".changeSelect_items").on("click",function(){var t=$(this),n=t.text().trim();if(0===t.find("select").length){var e,i=$(`
                    <select class="form-control form-select">
                    </select>`),a={};for(e in selectOption.forEach(function(e){a[e.optigroup]||(a[e.optigroup]=[]),a[e.optigroup].push(e.option)}),a){var l=$("<optgroup>").attr("label",e);a[e].forEach(function(e){var t=$("<option>").attr("value",e).text(e);e===n&&t.attr("selected","selected"),l.append(t)}),i.append(l)}t.html(i),i.focus(),i.on("change",function(){var e=i.val();t.html(e)}),$(document).on("click.select",function(e){t.is(e.target)||0!==t.has(e.target).length||(e=i.val(),t.html(e||n),$(document).off("click.select"))})}})}};